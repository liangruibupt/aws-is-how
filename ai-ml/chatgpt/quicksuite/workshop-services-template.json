{
  "Resources": {
    "WorkshopApiLambdaServiceRoleD0C7DD68": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApiLambda/ServiceRole/Resource"
      }
    },
    "WorkshopApiLambdaServiceRoleDefaultPolicy38E1A46D": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:BatchWriteItem",
                "dynamodb:ConditionCheckItem",
                "dynamodb:DeleteItem",
                "dynamodb:DescribeTable",
                "dynamodb:GetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:PutItem",
                "dynamodb:Query",
                "dynamodb:Scan",
                "dynamodb:UpdateItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputFnGetAttWorkshopCalendarTableF76627C7ArnFEA1C9DA"
                },
                {
                  "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputFnGetAttWorkshopEmailsTableC100511FArn203A960A"
                },
                {
                  "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputFnGetAttWorkshopEmployeesTable5D393DAAArn4AE89033"
                },
                {
                  "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputFnGetAttWorkshopJobListingsTable15B2EE7FArnF211BE34"
                },
                {
                  "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputFnGetAttWorkshopTicketsTable8EF924FEArnDF5E8C8D"
                },
                {
                  "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputFnGetAttWorkshopTimeOffTable5FE30993ArnC248D609"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputFnGetAttWorkshopTicketsTable8EF924FEArnDF5E8C8D"
                      },
                      "/index/*"
                    ]
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputFnGetAttWorkshopTimeOffTable5FE30993ArnC248D609"
                      },
                      "/index/*"
                    ]
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "WorkshopApiLambdaServiceRoleDefaultPolicy38E1A46D",
        "Roles": [
          {
            "Ref": "WorkshopApiLambdaServiceRoleD0C7DD68"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApiLambda/ServiceRole/DefaultPolicy/Resource"
      }
    },
    "WorkshopApiLambda0A5ACCF7": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "ZipFile": "import base64\nimport json\nimport logging\nimport os\nimport uuid\nfrom datetime import datetime, timezone\nfrom decimal import Decimal\nfrom typing import Any\n\nimport boto3\n\nlogger = logging.getLogger()\nlogger.setLevel(logging.INFO)\n\n# Initialize DynamoDB\ndynamodb = boto3.resource(\"dynamodb\")\nemployees_table = dynamodb.Table(os.environ[\"EMPLOYEES_TABLE\"])\njob_listings_table = dynamodb.Table(os.environ[\"JOB_LISTINGS_TABLE\"])\ntickets_table = dynamodb.Table(os.environ[\"TICKETS_TABLE\"])\ntime_off_table = dynamodb.Table(os.environ[\"TIME_OFF_TABLE\"])\nemails_table = dynamodb.Table(os.environ[\"EMAILS_TABLE\"])\ncalendar_table = dynamodb.Table(os.environ[\"CALENDAR_TABLE\"])\n\n\n# Utility functions\nclass DecimalEncoder(json.JSONEncoder):\n    def default(self, obj: Any) -> Any:\n        if isinstance(obj, Decimal):\n            return float(obj)\n        return super().default(obj)\n\n\ndef json_dumps(obj: Any) -> str:\n    return json.dumps(obj, cls=DecimalEncoder)\n\n\ndef get_user_id(event: dict[str, Any]) -> str:\n    \"\"\"Extract user ID from event, raise error if not authenticated\"\"\"\n    try:\n        return event[\"requestContext\"][\"authorizer\"][\"claims\"][\"username\"]\n    except (KeyError, TypeError) as e:\n        raise ValueError(f\"Unable to extract user from event: {event}\") from e\n\n\ndef serialize_token(last_key: dict[str, Any]) -> str:\n    \"\"\"Serialize DynamoDB LastEvaluatedKey to base64 token\"\"\"\n    return base64.b64encode(json.dumps(last_key, cls=DecimalEncoder).encode()).decode()\n\n\ndef deserialize_token(token: str) -> dict[str, Any]:\n    \"\"\"Deserialize base64 token to DynamoDB ExclusiveStartKey\"\"\"\n    return json.loads(base64.b64decode(token.encode()).decode())\n\n\ndef get_pagination_params(event: dict[str, Any]) -> tuple[int, dict[str, Any] | None]:\n    \"\"\"Extract pagination parameters from query string\"\"\"\n    query_params = event.get(\"queryStringParameters\") or {}\n    limit = min(int(query_params.get(\"limit\", 50)), 50)  # Max 50 items\n    next_token = query_params.get(\"next_token\")\n    start_key = deserialize_token(next_token) if next_token else None\n    return limit, start_key\n\n\ndef handler(event: dict[str, Any], context: Any) -> dict[str, Any]:\n    \"\"\"Unified API handler that routes all requests\"\"\"\n    logger.info(f\"Received event: {event}\")\n    try:\n        method: str = event[\"httpMethod\"]\n        path: str = event[\"path\"]\n        user_id: str = get_user_id(event)\n\n        # Employees\n        if path.startswith(\"/employees\"):\n            if method == \"POST\" and path == \"/employees\":\n                return create_employee(event, employees_table)\n            if method == \"GET\" and path == \"/employees\":\n                return list_employees(event, employees_table)\n            if method == \"GET\" and \"/employees/\" in path:\n                employee_id = path.split(\"/\")[-1]\n                return get_employee(employee_id, employees_table)\n\n        # Job Listings\n        elif path.startswith(\"/job-listings\"):\n            if method == \"POST\" and path == \"/job-listings\":\n                return create_job_listing(event, job_listings_table)\n            if method == \"GET\" and path == \"/job-listings\":\n                return list_job_listings(event, job_listings_table)\n            if method == \"GET\" and \"/job-listings/\" in path:\n                job_id = path.split(\"/\")[-1]\n                return get_job_listing(job_id, job_listings_table)\n\n        # Tickets\n        elif path.startswith(\"/tickets\"):\n            if method == \"POST\" and path == \"/tickets\":\n                return create_ticket(event, user_id, tickets_table)\n            if method == \"GET\" and path == \"/tickets\":\n                return list_tickets(event, tickets_table)\n            if method == \"GET\" and \"/tickets/\" in path and \"/comments\" not in path:\n                ticket_id = path.split(\"/\")[-1]\n                return get_ticket(ticket_id, tickets_table)\n            if method == \"PATCH\" and \"/comments\" in path:\n                ticket_id = path.split(\"/\")[-2]\n                return add_comment(event, ticket_id, user_id, tickets_table)\n\n        # Time-off\n        elif path.startswith(\"/time-off\"):\n            if method == \"POST\" and path == \"/time-off\":\n                return create_time_off_request(event, user_id, time_off_table)\n            if method == \"GET\" and path == \"/time-off\":\n                return list_time_off_requests(event, user_id, time_off_table)\n            if method == \"GET\" and path == \"/time-off/balance\":\n                return get_time_off_balance(user_id, time_off_table)\n            if method == \"GET\" and \"/time-off/\" in path:\n                request_id = path.split(\"/\")[-1]\n                return get_time_off_request(request_id, user_id, time_off_table)\n            if method == \"PUT\" and \"/time-off/\" in path:\n                request_id = path.split(\"/\")[-1]\n                return update_time_off_request(event, request_id, user_id, time_off_table)\n\n        # Emails\n        elif path.startswith(\"/emails\"):\n            if method == \"POST\" and path == \"/emails\":\n                return send_email(event, user_id, emails_table)\n            if method == \"GET\" and path == \"/emails\":\n                return list_emails(event, user_id, emails_table)\n            if method == \"GET\" and \"/emails/\" in path:\n                message_id = path.split(\"/\")[-1]\n                return get_email(message_id, user_id, emails_table)\n\n        # Calendar\n        elif path.startswith(\"/calendar/events\"):\n            if method == \"POST\" and path == \"/calendar/events\":\n                return create_event(event, user_id, calendar_table)\n            if method == \"GET\" and path == \"/calendar/events\":\n                return list_events(event, user_id, calendar_table)\n            if method == \"GET\" and \"/calendar/events/\" in path:\n                event_id = path.split(\"/\")[-1]\n                return get_event(event_id, user_id, calendar_table)\n            if method == \"PUT\" and \"/calendar/events/\" in path:\n                event_id = path.split(\"/\")[-1]\n                return update_event(event, event_id, user_id, calendar_table)\n\n        return {\n            \"statusCode\": 404,\n            \"body\": json_dumps(\n                {\"error\": {\"code\": \"NOT_FOUND\", \"message\": \"API endpoint not found\"}}\n            ),\n        }\n\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\ndef mcp_handler(event: dict[str, Any], context: Any) -> dict[str, Any]:\n    # tool_name = event[\"tool_name\"]\n    event = {\"body\": event}\n    return list_employees(event, employees_table)\n\n\n# Employee functions\ndef get_ttl_timestamp() -> int:\n    \"\"\"Get TTL timestamp for 6 hours from now in epoch seconds\"\"\"\n    return int(datetime.now(timezone.utc).timestamp()) + (6 * 60 * 60)\n\n\ndef create_employee(event: dict[str, Any], table: Any) -> dict[str, Any]:\n    try:\n        body: dict[str, Any] = json.loads(event[\"body\"])\n        employee_id: str = f\"emp_{str(uuid.uuid4())[:8]}\"\n        item: dict[str, Any] = {\n            \"employee_id\": employee_id,\n            \"first_name\": body[\"first_name\"],\n            \"last_name\": body[\"last_name\"],\n            \"email\": body[\"email\"],\n            \"department\": body[\"department\"],\n            \"position\": body.get(\"position\"),\n            \"hire_date\": body.get(\"hire_date\"),\n            \"status\": \"Active\",\n            \"created_at\": datetime.now(timezone.utc).isoformat(),\n            \"ttl\": get_ttl_timestamp(),\n        }\n        table.put_item(Item=item)\n        return {\"statusCode\": 201, \"body\": json_dumps(item)}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\ndef list_employees(event: dict[str, Any], table: Any) -> dict[str, Any]:\n    try:\n        limit, start_key = get_pagination_params(event)\n        scan_kwargs: dict[str, Any] = {\"Limit\": limit}\n        if start_key:\n            scan_kwargs[\"ExclusiveStartKey\"] = start_key\n        response = table.scan(**scan_kwargs)\n        result = {\"employees\": response[\"Items\"], \"total_count\": len(response[\"Items\"])}\n        if \"LastEvaluatedKey\" in response:\n            result[\"next_token\"] = serialize_token(response[\"LastEvaluatedKey\"])\n        return {\"statusCode\": 200, \"body\": json_dumps(result)}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\ndef get_employee(employee_id: str, table: Any) -> dict[str, Any]:\n    try:\n        response = table.get_item(Key={\"employee_id\": employee_id})\n        if \"Item\" not in response:\n            return {\n                \"statusCode\": 404,\n                \"body\": json_dumps(\n                    {\"error\": {\"code\": \"NOT_FOUND\", \"message\": \"Employee not found\"}}\n                ),\n            }\n        return {\"statusCode\": 200, \"body\": json_dumps(response[\"Item\"])}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\n# Job functions\ndef create_job_listing(event: dict[str, Any], table: Any) -> dict[str, Any]:\n    try:\n        body: dict[str, Any] = json.loads(event[\"body\"])\n        job_id: str = f\"job_{str(uuid.uuid4())[:8]}\"\n        item: dict[str, Any] = {\n            \"job_id\": job_id,\n            \"title\": body[\"title\"],\n            \"department\": body[\"department\"],\n            \"location\": body[\"location\"],\n            \"description\": body[\"description\"],\n            \"requirements\": body.get(\"requirements\", \"\"),\n            \"salary_range\": body.get(\"salary_range\", \"\"),\n            \"hiring_manager_id\": body.get(\"hiring_manager_id\", \"\"),\n            \"status\": \"Open\",\n            \"created_at\": datetime.now(timezone.utc).isoformat(),\n            \"ttl\": get_ttl_timestamp(),\n        }\n        table.put_item(Item=item)\n        return {\"statusCode\": 201, \"body\": json_dumps(item)}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\ndef list_job_listings(event: dict[str, Any], table: Any) -> dict[str, Any]:\n    try:\n        limit, start_key = get_pagination_params(event)\n        scan_kwargs: dict[str, Any] = {\"Limit\": limit}\n        if start_key:\n            scan_kwargs[\"ExclusiveStartKey\"] = start_key\n        response = table.scan(**scan_kwargs)\n        result = {\"jobs\": response[\"Items\"], \"total_count\": len(response[\"Items\"])}\n        if \"LastEvaluatedKey\" in response:\n            result[\"next_token\"] = serialize_token(response[\"LastEvaluatedKey\"])\n        return {\"statusCode\": 200, \"body\": json_dumps(result)}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\ndef get_job_listing(job_id: str, table: Any) -> dict[str, Any]:\n    try:\n        response = table.get_item(Key={\"job_id\": job_id})\n        if \"Item\" not in response:\n            return {\n                \"statusCode\": 404,\n                \"body\": json_dumps(\n                    {\"error\": {\"code\": \"NOT_FOUND\", \"message\": \"Job listing not found\"}}\n                ),\n            }\n        return {\"statusCode\": 200, \"body\": json_dumps(response[\"Item\"])}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\n# Ticket functions\ndef create_ticket(event: dict[str, Any], user_id: str, table: Any) -> dict[str, Any]:\n    try:\n        body: dict[str, Any] = json.loads(event[\"body\"])\n        ticket_id: str = f\"tkt_{str(uuid.uuid4())[:8]}\"\n        item: dict[str, Any] = {\n            \"user_id\": user_id,\n            \"ticket_id\": ticket_id,\n            \"title\": body[\"title\"],\n            \"description\": body[\"description\"],\n            \"category\": body.get(\"category\", \"Technical\"),\n            \"priority\": body.get(\"priority\", \"Medium\"),\n            \"status\": \"Open\",\n            \"created_by\": body.get(\"created_by\", user_id),\n            \"comments\": [],\n            \"created_at\": datetime.now(timezone.utc).isoformat(),\n            \"ttl\": get_ttl_timestamp(),\n        }\n        table.put_item(Item=item)\n        return {\"statusCode\": 201, \"body\": json_dumps(item)}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\ndef list_tickets(event: dict[str, Any], table: Any) -> dict[str, Any]:\n    try:\n        limit, start_key = get_pagination_params(event)\n        scan_kwargs: dict[str, Any] = {\"Limit\": limit}\n        if start_key:\n            scan_kwargs[\"ExclusiveStartKey\"] = start_key\n        response = table.scan(**scan_kwargs)\n        result = {\"tickets\": response[\"Items\"], \"total_count\": len(response[\"Items\"])}\n        if \"LastEvaluatedKey\" in response:\n            result[\"next_token\"] = serialize_token(response[\"LastEvaluatedKey\"])\n        return {\"statusCode\": 200, \"body\": json_dumps(result)}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\ndef get_ticket(ticket_id: str, table: Any) -> dict[str, Any]:\n    try:\n        response = table.scan(\n            FilterExpression=\"ticket_id = :ticket_id\",\n            ExpressionAttributeValues={\":ticket_id\": ticket_id},\n        )\n        if not response[\"Items\"]:\n            return {\n                \"statusCode\": 404,\n                \"body\": json_dumps({\"error\": {\"code\": \"NOT_FOUND\", \"message\": \"Ticket not found\"}}),\n            }\n        return {\"statusCode\": 200, \"body\": json_dumps(response[\"Items\"][0])}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\ndef add_comment(event: dict[str, Any], ticket_id: str, user_id: str, table: Any) -> dict[str, Any]:\n    try:\n        body: dict[str, Any] = json.loads(event[\"body\"])\n        response = table.scan(\n            FilterExpression=\"ticket_id = :ticket_id\",\n            ExpressionAttributeValues={\":ticket_id\": ticket_id},\n        )\n        if not response[\"Items\"]:\n            return {\n                \"statusCode\": 404,\n                \"body\": json_dumps({\"error\": {\"code\": \"NOT_FOUND\", \"message\": \"Ticket not found\"}}),\n            }\n        ticket = response[\"Items\"][0]\n        new_comment = {\n            \"comment\": body[\"comment\"],\n            \"timestamp\": datetime.now(timezone.utc).isoformat(),\n            \"author\": body.get(\"author\", user_id),\n        }\n        updated_response = table.update_item(\n            Key={\"user_id\": ticket[\"user_id\"], \"ticket_id\": ticket_id},\n            UpdateExpression=(\n                \"SET comments = list_append(if_not_exists(comments, :empty_list), :comment)\"\n            ),\n            ExpressionAttributeValues={\":comment\": [new_comment], \":empty_list\": []},\n            ReturnValues=\"ALL_NEW\",\n        )\n        return {\"statusCode\": 200, \"body\": json_dumps(updated_response[\"Attributes\"])}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\n# Time-off functions\n\n\ndef get_time_off_balance(user_id: str, table: Any) -> dict[str, Any]:\n    try:\n        # Get all requests for the user (no filter - we'll filter in code)\n        response = table.query(\n            KeyConditionExpression=\"user_id = :user_id\",\n            ExpressionAttributeValues={\":user_id\": user_id},\n        )\n\n        # Calculate total used days from approved requests only\n        used_days = sum(\n            request.get(\"days_requested\", 0)\n            for request in response[\"Items\"]\n            if request.get(\"status\") == \"Approved\"\n        )\n\n        balance = {\"total\": 30, \"used\": used_days, \"remaining\": 30 - used_days}\n\n        return {\"statusCode\": 200, \"body\": json_dumps({\"balance\": balance})}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\ndef create_time_off_request(event: dict[str, Any], user_id: str, table: Any) -> dict[str, Any]:\n    try:\n        body: dict[str, Any] = json.loads(event[\"body\"])\n\n        # Calculate days requested\n        start = datetime.fromisoformat(body[\"start_date\"])\n        end = datetime.fromisoformat(body[\"end_date\"])\n        days_requested = (end - start).days + 1\n\n        # Check balance\n        balance_response = get_time_off_balance(user_id, table)\n        if balance_response[\"statusCode\"] != 200:\n            return balance_response\n\n        balance_data = json.loads(balance_response[\"body\"])[\"balance\"]\n        remaining = balance_data[\"remaining\"]\n\n        if days_requested > remaining:\n            return {\n                \"statusCode\": 400,\n                \"body\": json_dumps(\n                    {\n                        \"error\": {\n                            \"code\": \"INSUFFICIENT_BALANCE\",\n                            \"message\": f\"Insufficient time-off days. Requested: {days_requested}, Available: {remaining}\",\n                            \"description\": \"You have exceeded your 30-day annual time-off balance. To request additional time off, please create a support ticket with the following details: your manager's name, reason for additional time off, and specific dates needed. Your manager will need to approve this request.\",\n                        }\n                    }\n                ),\n            }\n\n        request_id: str = f\"req_{str(uuid.uuid4())[:8]}\"\n\n        item: dict[str, Any] = {\n            \"user_id\": user_id,\n            \"request_id\": request_id,\n            \"employee_id\": body.get(\"employee_id\", user_id),\n            \"start_date\": body[\"start_date\"],\n            \"end_date\": body[\"end_date\"],\n            \"type\": body[\"type\"],\n            \"reason\": body[\"reason\"],\n            \"status\": \"Approved\",\n            \"days_requested\": days_requested,\n            \"approved_by\": \"system\",\n            \"approved_at\": datetime.now(timezone.utc).isoformat(),\n            \"created_at\": datetime.now(timezone.utc).isoformat(),\n            \"ttl\": get_ttl_timestamp(),\n        }\n        table.put_item(Item=item)\n\n        # Calculate updated balance without another DB call\n        updated_balance = {\n            \"total\": 30,\n            \"used\": balance_data[\"used\"] + days_requested,\n            \"remaining\": remaining - days_requested,\n        }\n\n        response_item = item.copy()\n        response_item[\"balance\"] = updated_balance\n\n        return {\"statusCode\": 201, \"body\": json_dumps(response_item)}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\ndef list_time_off_requests(event: dict[str, Any], user_id: str, table: Any) -> dict[str, Any]:\n    try:\n        limit, start_key = get_pagination_params(event)\n        query_kwargs: dict[str, Any] = {\n            \"KeyConditionExpression\": \"user_id = :user_id\",\n            \"ExpressionAttributeValues\": {\":user_id\": user_id},\n            \"Limit\": limit,\n        }\n        if start_key:\n            query_kwargs[\"ExclusiveStartKey\"] = start_key\n        response = table.query(**query_kwargs)\n        result = {\"requests\": response[\"Items\"], \"total_count\": len(response[\"Items\"])}\n        if \"LastEvaluatedKey\" in response:\n            result[\"next_token\"] = serialize_token(response[\"LastEvaluatedKey\"])\n        return {\"statusCode\": 200, \"body\": json_dumps(result)}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\ndef get_time_off_request(request_id: str, user_id: str, table: Any) -> dict[str, Any]:\n    try:\n        response = table.get_item(Key={\"user_id\": user_id, \"request_id\": request_id})\n        if \"Item\" not in response:\n            return {\n                \"statusCode\": 404,\n                \"body\": json_dumps(\n                    {\"error\": {\"code\": \"NOT_FOUND\", \"message\": \"Request not found\"}}\n                ),\n            }\n        return {\"statusCode\": 200, \"body\": json_dumps(response[\"Item\"])}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\ndef update_time_off_request(\n    event: dict[str, Any], request_id: str, user_id: str, table: Any\n) -> dict[str, Any]:\n    try:\n        body: dict[str, Any] = json.loads(event[\"body\"])\n        response = table.get_item(Key={\"user_id\": user_id, \"request_id\": request_id})\n        if \"Item\" not in response:\n            return {\n                \"statusCode\": 404,\n                \"body\": json_dumps(\n                    {\"error\": {\"code\": \"NOT_FOUND\", \"message\": \"Request not found\"}}\n                ),\n            }\n        update_expression = \"SET updated_at = :updated_at\"\n        expression_values = {\":updated_at\": datetime.now(timezone.utc).isoformat()}\n        expression_names = {}\n        if \"status\" in body:\n            update_expression += \", #status = :status\"\n            expression_values[\":status\"] = body[\"status\"]\n            expression_names[\"#status\"] = \"status\"\n        if \"approved_by\" in body:\n            update_expression += \", approved_by = :approved_by\"\n            expression_values[\":approved_by\"] = body[\"approved_by\"]\n        update_params = {\n            \"Key\": {\"user_id\": user_id, \"request_id\": request_id},\n            \"UpdateExpression\": update_expression,\n            \"ExpressionAttributeValues\": expression_values,\n            \"ReturnValues\": \"ALL_NEW\",\n        }\n        if expression_names:\n            update_params[\"ExpressionAttributeNames\"] = expression_names\n        updated_response = table.update_item(**update_params)\n        return {\"statusCode\": 200, \"body\": json_dumps(updated_response[\"Attributes\"])}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\n# Email functions\ndef send_email(event: dict[str, Any], user_id: str, table: Any) -> dict[str, Any]:\n    try:\n        body: dict[str, Any] = json.loads(event[\"body\"])\n        message_id: str = f\"msg_{str(uuid.uuid4())[:8]}\"\n        item: dict[str, Any] = {\n            \"user_id\": user_id,\n            \"message_id\": message_id,\n            \"to\": body.get(\"to\", []),\n            \"cc\": body.get(\"cc\", []),\n            \"bcc\": body.get(\"bcc\", []),\n            \"subject\": body[\"subject\"],\n            \"body\": body[\"body\"],\n            \"sender\": user_id,\n            \"sent_at\": datetime.now(timezone.utc).isoformat(),\n            \"is_read\": False,\n            \"ttl\": get_ttl_timestamp(),\n        }\n        table.put_item(Item=item)\n        return {\"statusCode\": 201, \"body\": json_dumps(item)}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\ndef list_emails(event: dict[str, Any], user_id: str, table: Any) -> dict[str, Any]:\n    try:\n        limit, start_key = get_pagination_params(event)\n        query_kwargs: dict[str, Any] = {\n            \"KeyConditionExpression\": \"user_id = :user_id\",\n            \"ExpressionAttributeValues\": {\":user_id\": user_id},\n            \"Limit\": limit,\n        }\n        if start_key:\n            query_kwargs[\"ExclusiveStartKey\"] = start_key\n        response = table.query(**query_kwargs)\n        result = {\"messages\": response[\"Items\"], \"total_count\": len(response[\"Items\"])}\n        if \"LastEvaluatedKey\" in response:\n            result[\"next_token\"] = serialize_token(response[\"LastEvaluatedKey\"])\n        return {\"statusCode\": 200, \"body\": json_dumps(result)}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\ndef get_email(message_id: str, user_id: str, table: Any) -> dict[str, Any]:\n    try:\n        response = table.get_item(Key={\"user_id\": user_id, \"message_id\": message_id})\n        if \"Item\" not in response:\n            return {\n                \"statusCode\": 404,\n                \"body\": json_dumps({\"error\": {\"code\": \"NOT_FOUND\", \"message\": \"Email not found\"}}),\n            }\n        return {\"statusCode\": 200, \"body\": json_dumps(response[\"Item\"])}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\n# Calendar functions\ndef create_event(event: dict[str, Any], user_id: str, table: Any) -> dict[str, Any]:\n    try:\n        body: dict[str, Any] = json.loads(event[\"body\"])\n        event_id: str = f\"evt_{str(uuid.uuid4())[:8]}\"\n        item: dict[str, Any] = {\n            \"user_id\": user_id,\n            \"event_id\": event_id,\n            \"title\": body[\"title\"],\n            \"description\": body.get(\"description\", \"\"),\n            \"start_time\": body[\"start_time\"],\n            \"end_time\": body[\"end_time\"],\n            \"location\": body.get(\"location\", \"\"),\n            \"created_at\": datetime.now(timezone.utc).isoformat(),\n            \"ttl\": get_ttl_timestamp(),\n        }\n        table.put_item(Item=item)\n        return {\"statusCode\": 201, \"body\": json_dumps(item)}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\ndef list_events(event: dict[str, Any], user_id: str, table: Any) -> dict[str, Any]:\n    try:\n        limit, start_key = get_pagination_params(event)\n        query_kwargs: dict[str, Any] = {\n            \"KeyConditionExpression\": \"user_id = :user_id\",\n            \"ExpressionAttributeValues\": {\":user_id\": user_id},\n            \"Limit\": limit,\n        }\n        if start_key:\n            query_kwargs[\"ExclusiveStartKey\"] = start_key\n        response = table.query(**query_kwargs)\n        result = {\"events\": response[\"Items\"], \"total_count\": len(response[\"Items\"])}\n        if \"LastEvaluatedKey\" in response:\n            result[\"next_token\"] = serialize_token(response[\"LastEvaluatedKey\"])\n        return {\"statusCode\": 200, \"body\": json_dumps(result)}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\ndef get_event(event_id: str, user_id: str, table: Any) -> dict[str, Any]:\n    try:\n        response = table.get_item(Key={\"user_id\": user_id, \"event_id\": event_id})\n        if \"Item\" not in response:\n            return {\n                \"statusCode\": 404,\n                \"body\": json_dumps(\n                    {\"error\": {\"code\": \"NOT_FOUND\", \"message\": \"Calendar event not found\"}}\n                ),\n            }\n        return {\"statusCode\": 200, \"body\": json_dumps(response[\"Item\"])}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n\n\ndef update_event(event: dict[str, Any], event_id: str, user_id: str, table: Any) -> dict[str, Any]:\n    try:\n        body: dict[str, Any] = json.loads(event[\"body\"])\n        response = table.update_item(\n            Key={\"user_id\": user_id, \"event_id\": event_id},\n            UpdateExpression=(\n                \"SET title = :title, description = :description, \"\n                \"start_time = :start_time, end_time = :end_time, #location = :location\"\n            ),\n            ExpressionAttributeNames={\"#location\": \"location\"},\n            ExpressionAttributeValues={\n                \":title\": body[\"title\"],\n                \":description\": body.get(\"description\", \"\"),\n                \":start_time\": body[\"start_time\"],\n                \":end_time\": body[\"end_time\"],\n                \":location\": body.get(\"location\", \"\"),\n            },\n            ReturnValues=\"ALL_NEW\",\n        )\n        return {\"statusCode\": 200, \"body\": json_dumps(response[\"Attributes\"])}\n    except Exception as e:\n        return {\n            \"statusCode\": 500,\n            \"body\": json_dumps({\"error\": {\"code\": \"INTERNAL_ERROR\", \"message\": str(e)}}),\n        }\n"
        },
        "Environment": {
          "Variables": {
            "EMPLOYEES_TABLE": {
              "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputRefWorkshopEmployeesTable5D393DAAEE3ADE14"
            },
            "JOB_LISTINGS_TABLE": {
              "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputRefWorkshopJobListingsTable15B2EE7FD7BEADC8"
            },
            "EMAILS_TABLE": {
              "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputRefWorkshopEmailsTableC100511FE2316D8D"
            },
            "CALENDAR_TABLE": {
              "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputRefWorkshopCalendarTableF76627C712069214"
            },
            "TICKETS_TABLE": {
              "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputRefWorkshopTicketsTable8EF924FE18EBBEEE"
            },
            "TIME_OFF_TABLE": {
              "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputRefWorkshopTimeOffTable5FE309930915DD3C"
            }
          }
        },
        "Handler": "index.handler",
        "Role": {
          "Fn::GetAtt": [
            "WorkshopApiLambdaServiceRoleD0C7DD68",
            "Arn"
          ]
        },
        "Runtime": "python3.12"
      },
      "DependsOn": [
        "WorkshopApiLambdaServiceRoleDefaultPolicy38E1A46D",
        "WorkshopApiLambdaServiceRoleD0C7DD68"
      ],
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApiLambda/Resource"
      }
    },
    "WorkshopApiLambdaLogGroupB80F20EB": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "WorkshopApiLambda0A5ACCF7"
              }
            ]
          ]
        },
        "RetentionInDays": 731
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApiLambda/LogGroup/Resource"
      }
    },
    "WorkshopAuthorizer44426856": {
      "Type": "AWS::ApiGateway::Authorizer",
      "Properties": {
        "IdentitySource": "method.request.header.Authorization",
        "Name": "WorkshopCognitoAuthorizer",
        "ProviderARNs": [
          {
            "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputFnGetAttWorkshopUserPool415C713CArnF651F8E2"
          }
        ],
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        },
        "Type": "COGNITO_USER_POOLS"
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopAuthorizer/Resource"
      }
    },
    "WorkshopApiEEBCDEDF": {
      "Type": "AWS::ApiGateway::RestApi",
      "Properties": {
        "Description": "API for Workshop",
        "Name": "WorkshopApi"
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Resource"
      }
    },
    "WorkshopApiDeploymentF269F93E2d048f1e079f60007f24e95636bc0965": {
      "Type": "AWS::ApiGateway::Deployment",
      "Properties": {
        "Description": "API for Workshop",
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "DependsOn": [
        "WorkshopApiAmazonQuickSuiteWorkshopServicesStackWorkshopApiemployeesPOSTValidator8BF06438209CF94C",
        "WorkshopApiCreateEmployeeRequest97C08D41",
        "WorkshopApicalendareventseventidGET7887FDF4",
        "WorkshopApicalendareventseventidOPTIONS267167EE",
        "WorkshopApicalendareventseventidPUT057BBB8D",
        "WorkshopApicalendareventseventid6D9A263A",
        "WorkshopApicalendareventsGET88AB106F",
        "WorkshopApicalendareventsOPTIONS6DECC6CB",
        "WorkshopApicalendareventsPOST95CBEF75",
        "WorkshopApicalendareventsB3DA38DB",
        "WorkshopApicalendarOPTIONS4A3670D2",
        "WorkshopApicalendar0589C328",
        "WorkshopApiemailsmessageidGETD035D877",
        "WorkshopApiemailsmessageidOPTIONS6095E523",
        "WorkshopApiemailsmessageidA4881F4B",
        "WorkshopApiemailsGET33D0190A",
        "WorkshopApiemailsOPTIONS754854B3",
        "WorkshopApiemailsPOSTC90CDF52",
        "WorkshopApiemails8B2331F0",
        "WorkshopApiemployeesemployeeidGET14F5B367",
        "WorkshopApiemployeesemployeeidOPTIONS05068EE8",
        "WorkshopApiemployeesemployeeid4A730B6C",
        "WorkshopApiemployeesGETB4437176",
        "WorkshopApiemployeesOPTIONSB3D23634",
        "WorkshopApiemployeesPOST63D67E78",
        "WorkshopApiemployees239D4044",
        "WorkshopApijoblistingsjobidGETF8045F1C",
        "WorkshopApijoblistingsjobidOPTIONSA1E70972",
        "WorkshopApijoblistingsjobid8EA13492",
        "WorkshopApijoblistingsGET1D339904",
        "WorkshopApijoblistingsOPTIONSA9314D71",
        "WorkshopApijoblistingsPOSTF18F1492",
        "WorkshopApijoblistings09548248",
        "WorkshopApiOPTIONS4438E959",
        "WorkshopApiticketsticketidcommentsOPTIONS4917D122",
        "WorkshopApiticketsticketidcommentsPATCH9AE795F8",
        "WorkshopApiticketsticketidcomments08CFBBEE",
        "WorkshopApiticketsticketidGETF2002D7E",
        "WorkshopApiticketsticketidOPTIONS1848C172",
        "WorkshopApiticketsticketidDEF98F81",
        "WorkshopApiticketsGET72252527",
        "WorkshopApiticketsOPTIONSFED9D4B7",
        "WorkshopApiticketsPOST554E22DD",
        "WorkshopApitickets6B2259DA",
        "WorkshopApitimeoffrequestidGET697283C2",
        "WorkshopApitimeoffrequestidOPTIONS24D9724E",
        "WorkshopApitimeoffrequestidPUT1FE0ED5E",
        "WorkshopApitimeoffrequestidA5DF2F63",
        "WorkshopApitimeoffGETC9781E3B",
        "WorkshopApitimeoffOPTIONS4711162A",
        "WorkshopApitimeoffPOSTED871A3D",
        "WorkshopApitimeoffABEF5A1F",
        "WorkshopApiEmployeeResponse61CE8278",
        "WorkshopApiErrorModelF61D9D78",
        "WorkshopAuthorizer44426856"
      ],
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Deployment/Resource",
        "aws:cdk:do-not-refactor": true
      }
    },
    "WorkshopApiDeploymentStageprod5249D316": {
      "Type": "AWS::ApiGateway::Stage",
      "Properties": {
        "DeploymentId": {
          "Ref": "WorkshopApiDeploymentF269F93E2d048f1e079f60007f24e95636bc0965"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        },
        "StageName": "prod"
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/DeploymentStage.prod/Resource"
      }
    },
    "WorkshopApiOPTIONS4438E959": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              },
              "StatusCode": "204"
            }
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Origin": true,
              "method.response.header.Access-Control-Allow-Methods": true
            },
            "StatusCode": "204"
          }
        ],
        "ResourceId": {
          "Fn::GetAtt": [
            "WorkshopApiEEBCDEDF",
            "RootResourceId"
          ]
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/OPTIONS/Resource"
      }
    },
    "WorkshopApiemployees239D4044": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "WorkshopApiEEBCDEDF",
            "RootResourceId"
          ]
        },
        "PathPart": "employees",
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/employees/Resource"
      }
    },
    "WorkshopApiemployeesOPTIONSB3D23634": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              },
              "StatusCode": "204"
            }
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Origin": true,
              "method.response.header.Access-Control-Allow-Methods": true
            },
            "StatusCode": "204"
          }
        ],
        "ResourceId": {
          "Ref": "WorkshopApiemployees239D4044"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/employees/OPTIONS/Resource"
      }
    },
    "WorkshopApiemployeesPOSTApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61POSTemployees413871E4": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/POST/employees"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/employees/POST/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.POST..employees"
      }
    },
    "WorkshopApiemployeesPOSTApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61POSTemployees3C036AD6": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/POST/employees"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/employees/POST/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.POST..employees"
      }
    },
    "WorkshopApiemployeesPOST63D67E78": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/write"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "POST",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "MethodResponses": [
          {
            "ResponseModels": {
              "application/json": {
                "Ref": "WorkshopApiEmployeeResponse61CE8278"
              }
            },
            "StatusCode": "201"
          },
          {
            "ResponseModels": {
              "application/json": {
                "Ref": "WorkshopApiErrorModelF61D9D78"
              }
            },
            "StatusCode": "400"
          }
        ],
        "RequestModels": {
          "application/json": {
            "Ref": "WorkshopApiCreateEmployeeRequest97C08D41"
          }
        },
        "RequestValidatorId": {
          "Ref": "WorkshopApiAmazonQuickSuiteWorkshopServicesStackWorkshopApiemployeesPOSTValidator8BF06438209CF94C"
        },
        "ResourceId": {
          "Ref": "WorkshopApiemployees239D4044"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/employees/POST/Resource"
      }
    },
    "WorkshopApiemployeesGETApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETemployeesFB11E08A": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/GET/employees"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/employees/GET/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..employees"
      }
    },
    "WorkshopApiemployeesGETApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETemployees251727BB": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/GET/employees"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/employees/GET/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..employees"
      }
    },
    "WorkshopApiemployeesGETB4437176": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/read"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApiemployees239D4044"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/employees/GET/Resource"
      }
    },
    "WorkshopApiemployeesemployeeid4A730B6C": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Ref": "WorkshopApiemployees239D4044"
        },
        "PathPart": "{employee_id}",
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/employees/{employee_id}/Resource"
      }
    },
    "WorkshopApiemployeesemployeeidOPTIONS05068EE8": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              },
              "StatusCode": "204"
            }
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Origin": true,
              "method.response.header.Access-Control-Allow-Methods": true
            },
            "StatusCode": "204"
          }
        ],
        "ResourceId": {
          "Ref": "WorkshopApiemployeesemployeeid4A730B6C"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/employees/{employee_id}/OPTIONS/Resource"
      }
    },
    "WorkshopApiemployeesemployeeidGETApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETemployeesemployeeid945855A1": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/GET/employees/*"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/employees/{employee_id}/GET/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..employees.{employee_id}"
      }
    },
    "WorkshopApiemployeesemployeeidGETApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETemployeesemployeeid269F5390": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/GET/employees/*"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/employees/{employee_id}/GET/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..employees.{employee_id}"
      }
    },
    "WorkshopApiemployeesemployeeidGET14F5B367": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/read"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApiemployeesemployeeid4A730B6C"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/employees/{employee_id}/GET/Resource"
      }
    },
    "WorkshopApijoblistings09548248": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "WorkshopApiEEBCDEDF",
            "RootResourceId"
          ]
        },
        "PathPart": "job-listings",
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/job-listings/Resource"
      }
    },
    "WorkshopApijoblistingsOPTIONSA9314D71": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              },
              "StatusCode": "204"
            }
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Origin": true,
              "method.response.header.Access-Control-Allow-Methods": true
            },
            "StatusCode": "204"
          }
        ],
        "ResourceId": {
          "Ref": "WorkshopApijoblistings09548248"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/job-listings/OPTIONS/Resource"
      }
    },
    "WorkshopApijoblistingsGETApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETjoblistingsEE25EFD5": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/GET/job-listings"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/job-listings/GET/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..job-listings"
      }
    },
    "WorkshopApijoblistingsGETApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETjoblistings0CF3269D": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/GET/job-listings"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/job-listings/GET/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..job-listings"
      }
    },
    "WorkshopApijoblistingsGET1D339904": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/read"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApijoblistings09548248"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/job-listings/GET/Resource"
      }
    },
    "WorkshopApijoblistingsjobid8EA13492": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Ref": "WorkshopApijoblistings09548248"
        },
        "PathPart": "{job_id}",
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/job-listings/{job_id}/Resource"
      }
    },
    "WorkshopApijoblistingsjobidOPTIONSA1E70972": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              },
              "StatusCode": "204"
            }
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Origin": true,
              "method.response.header.Access-Control-Allow-Methods": true
            },
            "StatusCode": "204"
          }
        ],
        "ResourceId": {
          "Ref": "WorkshopApijoblistingsjobid8EA13492"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/job-listings/{job_id}/OPTIONS/Resource"
      }
    },
    "WorkshopApijoblistingsjobidGETApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETjoblistingsjobidF0768076": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/GET/job-listings/*"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/job-listings/{job_id}/GET/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..job-listings.{job_id}"
      }
    },
    "WorkshopApijoblistingsjobidGETApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETjoblistingsjobid3B08C145": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/GET/job-listings/*"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/job-listings/{job_id}/GET/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..job-listings.{job_id}"
      }
    },
    "WorkshopApijoblistingsjobidGETF8045F1C": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/read"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApijoblistingsjobid8EA13492"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/job-listings/{job_id}/GET/Resource"
      }
    },
    "WorkshopApijoblistingsPOSTApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61POSTjoblistingsF082660D": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/POST/job-listings"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/job-listings/POST/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.POST..job-listings"
      }
    },
    "WorkshopApijoblistingsPOSTApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61POSTjoblistingsB47B0AFA": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/POST/job-listings"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/job-listings/POST/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.POST..job-listings"
      }
    },
    "WorkshopApijoblistingsPOSTF18F1492": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/write"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "POST",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApijoblistings09548248"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/job-listings/POST/Resource"
      }
    },
    "WorkshopApiemails8B2331F0": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "WorkshopApiEEBCDEDF",
            "RootResourceId"
          ]
        },
        "PathPart": "emails",
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/emails/Resource"
      }
    },
    "WorkshopApiemailsOPTIONS754854B3": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              },
              "StatusCode": "204"
            }
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Origin": true,
              "method.response.header.Access-Control-Allow-Methods": true
            },
            "StatusCode": "204"
          }
        ],
        "ResourceId": {
          "Ref": "WorkshopApiemails8B2331F0"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/emails/OPTIONS/Resource"
      }
    },
    "WorkshopApiemailsGETApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETemails5A9C8A65": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/GET/emails"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/emails/GET/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..emails"
      }
    },
    "WorkshopApiemailsGETApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETemails11A1D55D": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/GET/emails"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/emails/GET/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..emails"
      }
    },
    "WorkshopApiemailsGET33D0190A": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/read"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApiemails8B2331F0"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/emails/GET/Resource"
      }
    },
    "WorkshopApiemailsmessageidA4881F4B": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Ref": "WorkshopApiemails8B2331F0"
        },
        "PathPart": "{message_id}",
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/emails/{message_id}/Resource"
      }
    },
    "WorkshopApiemailsmessageidOPTIONS6095E523": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              },
              "StatusCode": "204"
            }
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Origin": true,
              "method.response.header.Access-Control-Allow-Methods": true
            },
            "StatusCode": "204"
          }
        ],
        "ResourceId": {
          "Ref": "WorkshopApiemailsmessageidA4881F4B"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/emails/{message_id}/OPTIONS/Resource"
      }
    },
    "WorkshopApiemailsmessageidGETApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETemailsmessageid49FCD628": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/GET/emails/*"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/emails/{message_id}/GET/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..emails.{message_id}"
      }
    },
    "WorkshopApiemailsmessageidGETApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETemailsmessageid07F31489": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/GET/emails/*"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/emails/{message_id}/GET/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..emails.{message_id}"
      }
    },
    "WorkshopApiemailsmessageidGETD035D877": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/read"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApiemailsmessageidA4881F4B"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/emails/{message_id}/GET/Resource"
      }
    },
    "WorkshopApiemailsPOSTApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61POSTemails732B7B84": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/POST/emails"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/emails/POST/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.POST..emails"
      }
    },
    "WorkshopApiemailsPOSTApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61POSTemails75F9A6D7": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/POST/emails"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/emails/POST/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.POST..emails"
      }
    },
    "WorkshopApiemailsPOSTC90CDF52": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/write"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "POST",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApiemails8B2331F0"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/emails/POST/Resource"
      }
    },
    "WorkshopApicalendar0589C328": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "WorkshopApiEEBCDEDF",
            "RootResourceId"
          ]
        },
        "PathPart": "calendar",
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/calendar/Resource"
      }
    },
    "WorkshopApicalendarOPTIONS4A3670D2": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              },
              "StatusCode": "204"
            }
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Origin": true,
              "method.response.header.Access-Control-Allow-Methods": true
            },
            "StatusCode": "204"
          }
        ],
        "ResourceId": {
          "Ref": "WorkshopApicalendar0589C328"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/calendar/OPTIONS/Resource"
      }
    },
    "WorkshopApicalendareventsB3DA38DB": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Ref": "WorkshopApicalendar0589C328"
        },
        "PathPart": "events",
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/calendar/events/Resource"
      }
    },
    "WorkshopApicalendareventsOPTIONS6DECC6CB": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              },
              "StatusCode": "204"
            }
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Origin": true,
              "method.response.header.Access-Control-Allow-Methods": true
            },
            "StatusCode": "204"
          }
        ],
        "ResourceId": {
          "Ref": "WorkshopApicalendareventsB3DA38DB"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/calendar/events/OPTIONS/Resource"
      }
    },
    "WorkshopApicalendareventsGETApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETcalendarevents69042BE3": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/GET/calendar/events"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/calendar/events/GET/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..calendar.events"
      }
    },
    "WorkshopApicalendareventsGETApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETcalendareventsA7E6EC14": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/GET/calendar/events"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/calendar/events/GET/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..calendar.events"
      }
    },
    "WorkshopApicalendareventsGET88AB106F": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/read"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApicalendareventsB3DA38DB"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/calendar/events/GET/Resource"
      }
    },
    "WorkshopApicalendareventseventid6D9A263A": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Ref": "WorkshopApicalendareventsB3DA38DB"
        },
        "PathPart": "{event_id}",
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/calendar/events/{event_id}/Resource"
      }
    },
    "WorkshopApicalendareventseventidOPTIONS267167EE": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              },
              "StatusCode": "204"
            }
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Origin": true,
              "method.response.header.Access-Control-Allow-Methods": true
            },
            "StatusCode": "204"
          }
        ],
        "ResourceId": {
          "Ref": "WorkshopApicalendareventseventid6D9A263A"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/calendar/events/{event_id}/OPTIONS/Resource"
      }
    },
    "WorkshopApicalendareventseventidGETApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETcalendareventseventidF45DCA71": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/GET/calendar/events/*"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/calendar/events/{event_id}/GET/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..calendar.events.{event_id}"
      }
    },
    "WorkshopApicalendareventseventidGETApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETcalendareventseventidFF97B135": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/GET/calendar/events/*"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/calendar/events/{event_id}/GET/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..calendar.events.{event_id}"
      }
    },
    "WorkshopApicalendareventseventidGET7887FDF4": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/read"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApicalendareventseventid6D9A263A"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/calendar/events/{event_id}/GET/Resource"
      }
    },
    "WorkshopApicalendareventseventidPUTApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61PUTcalendareventseventidE1AD7300": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/PUT/calendar/events/*"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/calendar/events/{event_id}/PUT/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.PUT..calendar.events.{event_id}"
      }
    },
    "WorkshopApicalendareventseventidPUTApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61PUTcalendareventseventid1EAABCB1": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/PUT/calendar/events/*"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/calendar/events/{event_id}/PUT/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.PUT..calendar.events.{event_id}"
      }
    },
    "WorkshopApicalendareventseventidPUT057BBB8D": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/write"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "PUT",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApicalendareventseventid6D9A263A"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/calendar/events/{event_id}/PUT/Resource"
      }
    },
    "WorkshopApicalendareventsPOSTApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61POSTcalendarevents57D59BC1": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/POST/calendar/events"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/calendar/events/POST/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.POST..calendar.events"
      }
    },
    "WorkshopApicalendareventsPOSTApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61POSTcalendareventsC10F5750": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/POST/calendar/events"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/calendar/events/POST/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.POST..calendar.events"
      }
    },
    "WorkshopApicalendareventsPOST95CBEF75": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/write"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "POST",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApicalendareventsB3DA38DB"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/calendar/events/POST/Resource"
      }
    },
    "WorkshopApitickets6B2259DA": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "WorkshopApiEEBCDEDF",
            "RootResourceId"
          ]
        },
        "PathPart": "tickets",
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/tickets/Resource"
      }
    },
    "WorkshopApiticketsOPTIONSFED9D4B7": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              },
              "StatusCode": "204"
            }
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Origin": true,
              "method.response.header.Access-Control-Allow-Methods": true
            },
            "StatusCode": "204"
          }
        ],
        "ResourceId": {
          "Ref": "WorkshopApitickets6B2259DA"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/tickets/OPTIONS/Resource"
      }
    },
    "WorkshopApiticketsPOSTApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61POSTticketsA0A6C5BD": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/POST/tickets"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/tickets/POST/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.POST..tickets"
      }
    },
    "WorkshopApiticketsPOSTApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61POSTtickets5183B278": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/POST/tickets"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/tickets/POST/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.POST..tickets"
      }
    },
    "WorkshopApiticketsPOST554E22DD": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/write"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "POST",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApitickets6B2259DA"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/tickets/POST/Resource"
      }
    },
    "WorkshopApiticketsGETApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETtickets0488802D": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/GET/tickets"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/tickets/GET/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..tickets"
      }
    },
    "WorkshopApiticketsGETApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETtickets6DF6B5B3": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/GET/tickets"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/tickets/GET/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..tickets"
      }
    },
    "WorkshopApiticketsGET72252527": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/read"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApitickets6B2259DA"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/tickets/GET/Resource"
      }
    },
    "WorkshopApiticketsticketidDEF98F81": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Ref": "WorkshopApitickets6B2259DA"
        },
        "PathPart": "{ticket_id}",
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/tickets/{ticket_id}/Resource"
      }
    },
    "WorkshopApiticketsticketidOPTIONS1848C172": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              },
              "StatusCode": "204"
            }
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Origin": true,
              "method.response.header.Access-Control-Allow-Methods": true
            },
            "StatusCode": "204"
          }
        ],
        "ResourceId": {
          "Ref": "WorkshopApiticketsticketidDEF98F81"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/tickets/{ticket_id}/OPTIONS/Resource"
      }
    },
    "WorkshopApiticketsticketidGETApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETticketsticketid84547610": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/GET/tickets/*"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/tickets/{ticket_id}/GET/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..tickets.{ticket_id}"
      }
    },
    "WorkshopApiticketsticketidGETApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETticketsticketid90447EC1": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/GET/tickets/*"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/tickets/{ticket_id}/GET/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..tickets.{ticket_id}"
      }
    },
    "WorkshopApiticketsticketidGETF2002D7E": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/read"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApiticketsticketidDEF98F81"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/tickets/{ticket_id}/GET/Resource"
      }
    },
    "WorkshopApiticketsticketidcomments08CFBBEE": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Ref": "WorkshopApiticketsticketidDEF98F81"
        },
        "PathPart": "comments",
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/tickets/{ticket_id}/comments/Resource"
      }
    },
    "WorkshopApiticketsticketidcommentsOPTIONS4917D122": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              },
              "StatusCode": "204"
            }
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Origin": true,
              "method.response.header.Access-Control-Allow-Methods": true
            },
            "StatusCode": "204"
          }
        ],
        "ResourceId": {
          "Ref": "WorkshopApiticketsticketidcomments08CFBBEE"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/tickets/{ticket_id}/comments/OPTIONS/Resource"
      }
    },
    "WorkshopApiticketsticketidcommentsPATCHApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61PATCHticketsticketidcomments3C546F7C": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/PATCH/tickets/*/comments"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/tickets/{ticket_id}/comments/PATCH/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.PATCH..tickets.{ticket_id}.comments"
      }
    },
    "WorkshopApiticketsticketidcommentsPATCHApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61PATCHticketsticketidcomments661A2AD9": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/PATCH/tickets/*/comments"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/tickets/{ticket_id}/comments/PATCH/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.PATCH..tickets.{ticket_id}.comments"
      }
    },
    "WorkshopApiticketsticketidcommentsPATCH9AE795F8": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/write"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "PATCH",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApiticketsticketidcomments08CFBBEE"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/tickets/{ticket_id}/comments/PATCH/Resource"
      }
    },
    "WorkshopApitimeoffABEF5A1F": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "WorkshopApiEEBCDEDF",
            "RootResourceId"
          ]
        },
        "PathPart": "time-off",
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/time-off/Resource"
      }
    },
    "WorkshopApitimeoffOPTIONS4711162A": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              },
              "StatusCode": "204"
            }
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Origin": true,
              "method.response.header.Access-Control-Allow-Methods": true
            },
            "StatusCode": "204"
          }
        ],
        "ResourceId": {
          "Ref": "WorkshopApitimeoffABEF5A1F"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/time-off/OPTIONS/Resource"
      }
    },
    "WorkshopApitimeoffPOSTApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61POSTtimeoff942447E4": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/POST/time-off"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/time-off/POST/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.POST..time-off"
      }
    },
    "WorkshopApitimeoffPOSTApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61POSTtimeoff38ADF509": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/POST/time-off"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/time-off/POST/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.POST..time-off"
      }
    },
    "WorkshopApitimeoffPOSTED871A3D": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/write"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "POST",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApitimeoffABEF5A1F"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/time-off/POST/Resource"
      }
    },
    "WorkshopApitimeoffGETApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETtimeoff1032DAF4": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/GET/time-off"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/time-off/GET/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..time-off"
      }
    },
    "WorkshopApitimeoffGETApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETtimeoff588BC7F4": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/GET/time-off"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/time-off/GET/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..time-off"
      }
    },
    "WorkshopApitimeoffGETC9781E3B": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/read"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApitimeoffABEF5A1F"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/time-off/GET/Resource"
      }
    },
    "WorkshopApitimeoffrequestidA5DF2F63": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Ref": "WorkshopApitimeoffABEF5A1F"
        },
        "PathPart": "{request_id}",
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/time-off/{request_id}/Resource"
      }
    },
    "WorkshopApitimeoffrequestidOPTIONS24D9724E": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              },
              "StatusCode": "204"
            }
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Origin": true,
              "method.response.header.Access-Control-Allow-Methods": true
            },
            "StatusCode": "204"
          }
        ],
        "ResourceId": {
          "Ref": "WorkshopApitimeoffrequestidA5DF2F63"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/time-off/{request_id}/OPTIONS/Resource"
      }
    },
    "WorkshopApitimeoffrequestidGETApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETtimeoffrequestid87D1CB24": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/GET/time-off/*"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/time-off/{request_id}/GET/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..time-off.{request_id}"
      }
    },
    "WorkshopApitimeoffrequestidGETApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61GETtimeoffrequestid0176E36C": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/GET/time-off/*"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/time-off/{request_id}/GET/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.GET..time-off.{request_id}"
      }
    },
    "WorkshopApitimeoffrequestidGET697283C2": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/read"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApitimeoffrequestidA5DF2F63"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/time-off/{request_id}/GET/Resource"
      }
    },
    "WorkshopApitimeoffrequestidPUTApiPermissionAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61PUTtimeoffrequestidD9C73CA6": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/PUT/time-off/*"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/time-off/{request_id}/PUT/ApiPermission.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.PUT..time-off.{request_id}"
      }
    },
    "WorkshopApitimeoffrequestidPUTApiPermissionTestAmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61PUTtimeoffrequestid169BBDC9": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "WorkshopApiLambda0A5ACCF7",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              "/test-invoke-stage/PUT/time-off/*"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/time-off/{request_id}/PUT/ApiPermission.Test.AmazonQuickSuiteWorkshopServicesStackWorkshopApi3D12FD61.PUT..time-off.{request_id}"
      }
    },
    "WorkshopApitimeoffrequestidPUT1FE0ED5E": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationScopes": [
          "workshop/write"
        ],
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "WorkshopAuthorizer44426856"
        },
        "HttpMethod": "PUT",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "WorkshopApiLambda0A5ACCF7",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "ResourceId": {
          "Ref": "WorkshopApitimeoffrequestidA5DF2F63"
        },
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/Default/time-off/{request_id}/PUT/Resource"
      }
    },
    "WorkshopApiCreateEmployeeRequest97C08D41": {
      "Type": "AWS::ApiGateway::Model",
      "Properties": {
        "ContentType": "application/json",
        "Name": "CreateEmployeeRequest",
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        },
        "Schema": {
          "$schema": "http://json-schema.org/draft-04/schema#",
          "title": "Create Employee Request",
          "type": "object",
          "required": [
            "first_name",
            "last_name",
            "email",
            "department"
          ],
          "properties": {
            "first_name": {
              "type": "string",
              "maxLength": 50,
              "description": "Employee's first name"
            },
            "last_name": {
              "type": "string",
              "maxLength": 50,
              "description": "Employee's last name"
            },
            "email": {
              "type": "string",
              "format": "email",
              "description": "Employee's primary work email address"
            },
            "department": {
              "type": "string",
              "description": "Employee department (e.g., Engineering, Human Resources, Sales, Marketing, Finance, Operations, Legal, IT)"
            },
            "position": {
              "type": "string",
              "description": "Employee position (e.g., Software Engineer, Senior Software Engineer, Engineering Manager, HR Specialist, HR Manager, Sales Representative, Sales Manager, Marketing Specialist, Marketing Manager, Financial Analyst, Accountant, Operations Specialist, Legal Counsel, IT Specialist, Director, VP, CEO)"
            },
            "hire_date": {
              "type": "string",
              "format": "date",
              "description": "Employee's hire date"
            }
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/CreateEmployeeRequest/Resource"
      }
    },
    "WorkshopApiEmployeeResponse61CE8278": {
      "Type": "AWS::ApiGateway::Model",
      "Properties": {
        "ContentType": "application/json",
        "Name": "EmployeeResponse",
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        },
        "Schema": {
          "$schema": "http://json-schema.org/draft-04/schema#",
          "title": "Employee Response",
          "type": "object",
          "required": [
            "employee_id",
            "first_name",
            "last_name",
            "email",
            "department"
          ],
          "properties": {
            "employee_id": {
              "type": "string",
              "description": "Unique identifier for the employee"
            },
            "first_name": {
              "type": "string",
              "description": "Employee's first name"
            },
            "last_name": {
              "type": "string",
              "description": "Employee's last name"
            },
            "email": {
              "type": "string",
              "description": "Employee's work email address"
            },
            "department": {
              "type": "string",
              "description": "Employee department (e.g., Engineering, Human Resources, Sales, Marketing, Finance, Operations, Legal, IT)"
            },
            "position": {
              "type": "string",
              "description": "Employee position (e.g., Software Engineer, Senior Software Engineer, Engineering Manager, HR Specialist, HR Manager, Sales Representative, Sales Manager, Marketing Specialist, Marketing Manager, Financial Analyst, Accountant, Operations Specialist, Legal Counsel, IT Specialist, Director, VP, CEO)"
            },
            "status": {
              "type": "string",
              "description": "Employee status (e.g., Active, Inactive, Terminated, On Leave)"
            },
            "hire_date": {
              "type": "string",
              "format": "date",
              "description": "Employee's hire date"
            },
            "created_at": {
              "type": "string",
              "format": "date-time",
              "description": "When the employee record was created"
            }
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/EmployeeResponse/Resource"
      }
    },
    "WorkshopApiErrorModelF61D9D78": {
      "Type": "AWS::ApiGateway::Model",
      "Properties": {
        "ContentType": "application/json",
        "Name": "ErrorModel",
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        },
        "Schema": {
          "$schema": "http://json-schema.org/draft-04/schema#",
          "title": "Error Response",
          "type": "object",
          "required": [
            "error"
          ],
          "properties": {
            "error": {
              "type": "object",
              "required": [
                "code",
                "message"
              ],
              "properties": {
                "code": {
                  "type": "string",
                  "description": "Machine-readable error code"
                },
                "message": {
                  "type": "string",
                  "description": "Human-readable error message"
                }
              }
            }
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/ErrorModel/Resource"
      }
    },
    "WorkshopApiAmazonQuickSuiteWorkshopServicesStackWorkshopApiemployeesPOSTValidator8BF06438209CF94C": {
      "Type": "AWS::ApiGateway::RequestValidator",
      "Properties": {
        "RestApiId": {
          "Ref": "WorkshopApiEEBCDEDF"
        },
        "ValidateRequestBody": true,
        "ValidateRequestParameters": false
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopApi/AmazonQuickSuiteWorkshopServicesStackWorkshopApiemployeesPOSTValidator8BF06438/Resource"
      }
    },
    "AwsNewsMcpLambdaServiceRole92DE2225": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/AwsNewsMcpLambda/ServiceRole/Resource"
      }
    },
    "AwsNewsMcpLambdaDA468DD7": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "ZipFile": "import json\nimport logging\nimport urllib.request\nimport xml.etree.ElementTree as ET\n\nlogger = logging.getLogger()\nlogger.setLevel(logging.INFO)\n\n\ndef handler(event, context):\n    \"\"\"AWS News MCP Handler - Get latest AWS news\"\"\"\n    logger.info(f\"AWS News MCP event: {json.dumps(event, default=str)}\")\n\n    try:\n        limit = event.get(\"limit\", 50)\n\n        # Fetch RSS feed\n        with urllib.request.urlopen(\n            \"https://aws.amazon.com/about-aws/whats-new/recent/feed/\"\n        ) as response:\n            rss_data = response.read()\n\n        # Parse RSS\n        root = ET.fromstring(rss_data)\n        items = []\n\n        for item in root.findall(\".//item\")[:limit]:\n            title = item.find(\"title\").text if item.find(\"title\") is not None else \"No title\"\n            link = item.find(\"link\").text if item.find(\"link\") is not None else \"\"\n            description = (\n                item.find(\"description\").text if item.find(\"description\") is not None else \"\"\n            )\n            pub_date = item.find(\"pubDate\").text if item.find(\"pubDate\") is not None else \"\"\n\n            items.append(\n                {\"title\": title, \"link\": link, \"description\": description, \"published\": pub_date}\n            )\n\n        return {\"items\": items, \"total_count\": len(items), \"source\": \"AWS What's New RSS Feed\"}\n\n    except Exception as e:\n        logger.error(f\"Handler error: {e!s}\", exc_info=True)\n        return {\"error\": f\"Failed to fetch AWS news: {e!s}\"}\n"
        },
        "Handler": "index.handler",
        "Role": {
          "Fn::GetAtt": [
            "AwsNewsMcpLambdaServiceRole92DE2225",
            "Arn"
          ]
        },
        "Runtime": "python3.12"
      },
      "DependsOn": [
        "AwsNewsMcpLambdaServiceRole92DE2225"
      ],
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/AwsNewsMcpLambda/Resource"
      }
    },
    "AwsNewsMcpLambdaLogGroup1550DE03": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "AwsNewsMcpLambdaDA468DD7"
              }
            ]
          ]
        },
        "RetentionInDays": 731
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/AwsNewsMcpLambda/LogGroup/Resource"
      }
    },
    "WorkshopMcpGatewayRoleF856D7FD": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "bedrock-agentcore.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "Policies": [
          {
            "PolicyDocument": {
              "Statement": [
                {
                  "Action": "lambda:InvokeFunction",
                  "Effect": "Allow",
                  "Resource": {
                    "Fn::GetAtt": [
                      "AwsNewsMcpLambdaDA468DD7",
                      "Arn"
                    ]
                  }
                }
              ],
              "Version": "2012-10-17"
            },
            "PolicyName": "LambdaInvokePolicy"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/WorkshopMcpGatewayRole/Resource"
      }
    },
    "AwsNewsMcpGateway": {
      "Type": "AWS::BedrockAgentCore::Gateway",
      "Properties": {
        "Name": "aws-news-mcp",
        "Description": "AWS News MCP Gateway",
        "RoleArn": {
          "Fn::GetAtt": [
            "WorkshopMcpGatewayRoleF856D7FD",
            "Arn"
          ]
        },
        "ProtocolType": "MCP",
        "AuthorizerType": "CUSTOM_JWT",
        "AuthorizerConfiguration": {
          "CustomJWTAuthorizer": {
            "AllowedClients": [
              {
                "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputRefWorkshopMcpUserPoolClient198E0994CBDA6269"
              }
            ],
            "DiscoveryUrl": {
              "Fn::Join": [
                "",
                [
                  "https://cognito-idp.",
                  {
                    "Ref": "AWS::Region"
                  },
                  ".amazonaws.com/",
                  {
                    "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputRefWorkshopUserPool415C713C612A4251"
                  },
                  "/.well-known/openid-configuration"
                ]
              ]
            }
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/AwsNewsMcpGateway"
      }
    },
    "AwsNewsMcpGatewayTarget": {
      "Type": "AWS::BedrockAgentCore::GatewayTarget",
      "Properties": {
        "GatewayIdentifier": {
          "Ref": "AwsNewsMcpGateway"
        },
        "Name": "aws-news-mcp",
        "Description": "AWS News MCP Gateway Target",
        "TargetConfiguration": {
          "Mcp": {
            "Lambda": {
              "LambdaArn": {
                "Fn::GetAtt": [
                  "AwsNewsMcpLambdaDA468DD7",
                  "Arn"
                ]
              },
              "ToolSchema": {
                "InlinePayload": [
                  {
                    "Name": "get_latest_aws_news",
                    "Description": "Get the latest AWS news and announcements",
                    "InputSchema": {
                      "Type": "object",
                      "Properties": {
                        "limit": {
                          "Type": "integer",
                          "Description": "Number of news items to return (default: 50)"
                        }
                      }
                    }
                  }
                ]
              }
            }
          }
        },
        "CredentialProviderConfigurations": [
          {
            "CredentialProviderType": "GATEWAY_IAM_ROLE"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/AwsNewsMcpGatewayTarget"
      }
    },
    "UploadWorkshopFilesLambdaServiceRole5721D90E": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/UploadWorkshopFilesLambda/ServiceRole/Resource"
      }
    },
    "UploadWorkshopFilesLambdaServiceRoleDefaultPolicyC571F5F2": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:GetBucket*",
                "s3:GetObject*",
                "s3:List*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputFnGetAttWorkshopArtifactsBucketEF691A47ArnAC91F715"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputFnGetAttWorkshopArtifactsBucketEF691A47ArnAC91F715"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "cognito-idp:DescribeUserPoolClient",
                "secretsmanager:GetSecretValue"
              ],
              "Effect": "Allow",
              "Resource": [
                "arn:aws:secretsmanager:*:*:secret:workshop/default-password*",
                {
                  "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputFnGetAttWorkshopUserPool415C713CArnF651F8E2"
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "UploadWorkshopFilesLambdaServiceRoleDefaultPolicyC571F5F2",
        "Roles": [
          {
            "Ref": "UploadWorkshopFilesLambdaServiceRole5721D90E"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/UploadWorkshopFilesLambda/ServiceRole/DefaultPolicy/Resource"
      }
    },
    "UploadWorkshopFilesLambda47884312": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "ZipFile": "import json\nimport logging\nimport os\nimport subprocess\nimport sys\nfrom textwrap import dedent\nfrom typing import Any\n\nimport boto3\n\n# Install crhelper at runtime\nsubprocess.check_call([sys.executable, \"-m\", \"pip\", \"install\", \"crhelper\", \"-t\", \"/tmp\"])  # noqa: S603, S108\nsys.path.insert(0, \"/tmp\")  # noqa: S108\n\nfrom crhelper import CfnResource  # type: ignore # noqa: E402\n\n# Initialize logging\nlogger = logging.getLogger()\nlogger.setLevel(logging.INFO)\n\n# Initialize the helper\nhelper = CfnResource(json_logging=False, log_level=\"DEBUG\", boto_level=\"CRITICAL\")\n\n# Global client initialization\ns3_client = boto3.client(\"s3\")\ncognito_client = boto3.client(\"cognito-idp\")\nsecrets_client = boto3.client(\"secretsmanager\")\nbucket_name = os.environ[\"BUCKET_NAME\"]\n\n\ndef get_client_secret(user_pool_id: str, client_id: str) -> str:\n    \"\"\"Get client secret from Cognito\"\"\"\n    try:\n        response = cognito_client.describe_user_pool_client(\n            UserPoolId=user_pool_id, ClientId=client_id\n        )\n        return response[\"UserPoolClient\"][\"ClientSecret\"]\n    except Exception as e:\n        logger.error(f\"Error retrieving client secret: {e}\")\n        return \"MANUAL_RETRIEVAL_REQUIRED - Go to AWS Console > Cognito > User Pools > App Integration > App clients and copy the Client Secret\"\n\n\ndef get_default_password() -> str:\n    \"\"\"Get default password from Secrets Manager\"\"\"\n    try:\n        response = secrets_client.get_secret_value(SecretId=\"workshop/default-password\")\n        return json.loads(response[\"SecretString\"])[\"password\"]\n    except Exception as e:\n        logger.error(f\"Error retrieving default password: {e}\")\n        return \"ERROR_RETRIEVING_PASSWORD\"\n\n\n@helper.create\n@helper.update\ndef create_handler(event: dict[str, Any], context: Any) -> str:\n    \"\"\"Handle CloudFormation CREATE and UPDATE events\"\"\"\n    logger.info(\"Starting workshop files upload\")\n\n    # Get properties from CloudFormation\n    properties = event[\"ResourceProperties\"]\n    workshop_schema = properties[\"WorkshopSchema\"]\n    base_url = properties[\"BaseUrl\"]\n    token_url = properties[\"TokenUrl\"]\n    authorization_url = properties[\"AuthorizationUrl\"]\n    client_id = properties[\"OpenAPIUserPoolClientId\"]\n    mcp_client_id = properties[\"McpClientId\"]\n    mcp_server_endpoint = properties[\"McpServerEndpoint\"]\n    user_pool_id = properties[\"UserPoolId\"]\n\n    try:\n        # Get client secrets from Cognito for both clients\n        openapi_client_secret = get_client_secret(user_pool_id, client_id)\n        mcp_client_secret = get_client_secret(user_pool_id, mcp_client_id)\n\n        # Get default password from Secrets Manager\n        default_password = get_default_password()\n\n        # Upload workshop schema JSON to bucket root\n        s3_client.put_object(\n            Bucket=bucket_name,\n            Key=\"workshop-schema.json\",\n            Body=workshop_schema,\n            ContentType=\"application/json\",\n            ServerSideEncryption=\"AES256\",\n        )\n\n        # Create login details text file for Actions module\n        mcp_config_section = f\"\"\"\n        MCP Configuration (Actions Module):\n        - MCP Server Endpoint: {mcp_server_endpoint}\n        - Client ID: {mcp_client_id}\n        - Client Secret: {mcp_client_secret}\n        - Token URL: {token_url}\n        - User Pool ID: {user_pool_id}\n        \"\"\"\n\n        login_details = dedent(\n            f\"\"\"\n            Workshop Login Details\n            ========================\n\n            OpenAPI Configuration (Actions Module):\n            - Base URL: {base_url}\n            - Client ID: {client_id}\n            - Client Secret: {openapi_client_secret}\n            - Token URL: {token_url}\n            - Authorization URL: {authorization_url}\n            {mcp_config_section}\n            Test Credentials:\n            - Username: jane_doe@example.com\n            - Password: {default_password}\n        \"\"\"\n        ).strip()\n\n        # Upload login details to bucket root\n        s3_client.put_object(\n            Bucket=bucket_name,\n            Key=\"workshop-details.txt\",\n            Body=login_details,\n            ContentType=\"text/plain\",\n            ServerSideEncryption=\"AES256\",\n        )\n\n        # Set return values\n        helper.Data[\"WorkshopFilesLocation\"] = f\"s3://{bucket_name}/\"\n        helper.Data[\n            \"SchemaFileUrl\"\n        ] = f\"https://{bucket_name}.s3.amazonaws.com/workshop-schema.json\"\n        helper.Data[\n            \"LoginDetailsUrl\"\n        ] = f\"https://{bucket_name}.s3.amazonaws.com/workshop-details.txt\"\n        helper.Data[\"OpenApiClientSecret\"] = openapi_client_secret\n        helper.Data[\"McpClientSecret\"] = mcp_client_secret\n\n        logger.info(\"Successfully uploaded workshop files to S3\")\n        return \"SUCCESS\"\n\n    except Exception as e:\n        logger.error(f\"Error uploading workshop files: {e}\")\n        raise\n\n\n@helper.delete\ndef delete_handler(event: dict[str, Any], context: Any) -> str:\n    \"\"\"Handle CloudFormation DELETE events\"\"\"\n    logger.info(\"Starting workshop files cleanup\")\n\n    try:\n        # Delete the uploaded files from bucket root\n        s3_client.delete_object(Bucket=bucket_name, Key=\"workshop-schema.json\")\n        s3_client.delete_object(Bucket=bucket_name, Key=\"workshop-details.txt\")\n\n        logger.info(\"Successfully cleaned up workshop files\")\n        return \"SUCCESS\"\n\n    except Exception as e:\n        logger.error(f\"Error during cleanup: {e}\")\n        # Don't fail the delete operation\n        return \"SUCCESS\"\n\n\ndef lambda_handler(event: dict[str, Any], context: Any) -> dict[str, Any]:\n    \"\"\"Main Lambda handler\"\"\"\n    helper(event, context)\n"
        },
        "Environment": {
          "Variables": {
            "BUCKET_NAME": {
              "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputRefWorkshopArtifactsBucketEF691A471F737A5B"
            }
          }
        },
        "Handler": "index.lambda_handler",
        "Role": {
          "Fn::GetAtt": [
            "UploadWorkshopFilesLambdaServiceRole5721D90E",
            "Arn"
          ]
        },
        "Runtime": "python3.12",
        "Timeout": 300
      },
      "DependsOn": [
        "UploadWorkshopFilesLambdaServiceRoleDefaultPolicyC571F5F2",
        "UploadWorkshopFilesLambdaServiceRole5721D90E"
      ],
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/UploadWorkshopFilesLambda/Resource"
      }
    },
    "UploadWorkshopFilesLambdaLogGroup6D9F39FB": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "UploadWorkshopFilesLambda47884312"
              }
            ]
          ]
        },
        "RetentionInDays": 731
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/UploadWorkshopFilesLambda/LogGroup/Resource"
      }
    },
    "UploadWorkshopFiles": {
      "Type": "Custom::UploadWorkshopFiles",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "UploadWorkshopFilesLambda47884312",
            "Arn"
          ]
        },
        "WorkshopSchema": {
          "Fn::Join": [
            "",
            [
              "{\"openapi\":\"3.0.0\",\"info\":{\"title\":\"Workshop HR System API\",\"version\":\"1.0.0\",\"description\":\"Complete HR management system with employee records, job listings, time-off requests, IT support tickets, internal messaging, and calendar events. Comprehensive solution for all HR and workplace management needs.\"},\"servers\":[{\"url\":\"https://",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              ".execute-api.",
              {
                "Ref": "AWS::Region"
              },
              ".",
              {
                "Ref": "AWS::URLSuffix"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "\"}],\"paths\":{\"/employees\":{\"get\":{\"description\":\"Retrieve a paginated list of all employees in the organization. Returns employee basic information including contact details, department, and position.\",\"operationId\":\"listEmployees\",\"parameters\":[{\"name\":\"limit\",\"in\":\"query\",\"description\":\"Maximum number of employees to return (max 50)\",\"required\":false,\"schema\":{\"type\":\"integer\"}},{\"name\":\"next_token\",\"in\":\"query\",\"description\":\"Pagination token for next page\",\"required\":false,\"schema\":{\"type\":\"string\"}}],\"responses\":{\"200\":{\"description\":\"Successfully retrieved employee list\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"employees\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"employee_id\":{\"type\":\"string\"},\"first_name\":{\"type\":\"string\"},\"last_name\":{\"type\":\"string\"},\"email\":{\"type\":\"string\",\"format\":\"email\"},\"department\":{\"type\":\"string\",\"description\":\"Employee department (e.g., Engineering, Human Resources, Sales, Marketing, Finance, Operations, Legal, IT)\"},\"position\":{\"type\":\"string\",\"description\":\"Employee position (e.g., Software Engineer, Senior Software Engineer, Engineering Manager, HR Specialist, HR Manager, Sales Representative, Sales Manager, Marketing Specialist, Marketing Manager, Financial Analyst, Accountant, Operations Specialist, Legal Counsel, IT Specialist, Director, VP, CEO)\"},\"status\":{\"type\":\"string\",\"description\":\"Employee status (e.g., Active, Inactive, Terminated, On Leave)\"}}}},\"total_count\":{\"type\":\"integer\"},\"next_token\":{\"type\":\"string\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/read\"]}]},\"post\":{\"description\":\"Create a new employee record in the system. Add a new hire with all required information for HR management.\",\"operationId\":\"createEmployee\",\"requestBody\":{\"required\":true,\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"required\":[\"first_name\",\"last_name\",\"email\",\"department\"],\"properties\":{\"first_name\":{\"type\":\"string\",\"maxLength\":50},\"last_name\":{\"type\":\"string\",\"maxLength\":50},\"email\":{\"type\":\"string\",\"format\":\"email\"},\"department\":{\"type\":\"string\",\"description\":\"Employee department (e.g., Engineering, Human Resources, Sales, Marketing, Finance, Operations, Legal, IT)\"},\"position\":{\"type\":\"string\",\"description\":\"Employee position (e.g., Software Engineer, Senior Software Engineer, Engineering Manager, HR Specialist, HR Manager, Sales Representative, Sales Manager, Marketing Specialist, Marketing Manager, Financial Analyst, Accountant, Operations Specialist, Legal Counsel, IT Specialist, Director, VP, CEO)\"},\"hire_date\":{\"type\":\"string\",\"format\":\"date\"}},\"example\":{\"first_name\":\"Jane\",\"last_name\":\"Doe\",\"email\":\"jane.doe@example.com\",\"department\":\"ENGINEERING\",\"position\":\"SOFTWARE_ENGINEER\",\"hire_date\":\"2024-01-15\"}}}}},\"responses\":{\"201\":{\"description\":\"Employee created successfully\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"employee_id\":{\"type\":\"string\"},\"first_name\":{\"type\":\"string\"},\"last_name\":{\"type\":\"string\"},\"email\":{\"type\":\"string\",\"format\":\"email\"},\"department\":{\"type\":\"string\",\"description\":\"Employee department (e.g., Engineering, Human Resources, Sales, Marketing, Finance, Operations, Legal, IT)\"},\"position\":{\"type\":\"string\",\"description\":\"Employee position (e.g., Software Engineer, Senior Software Engineer, Engineering Manager, HR Specialist, HR Manager, Sales Representative, Sales Manager, Marketing Specialist, Marketing Manager, Financial Analyst, Accountant, Operations Specialist, Legal Counsel, IT Specialist, Director, VP, CEO)\"},\"status\":{\"type\":\"string\",\"description\":\"Employee status (e.g., Active, Inactive, Terminated, On Leave)\"},\"created_at\":{\"type\":\"string\",\"format\":\"date-time\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/write\"]}]}},\"/employees/{employee_id}\":{\"get\":{\"description\":\"Retrieve detailed information for a specific employee by their unique ID.\",\"operationId\":\"getEmployee\",\"parameters\":[{\"name\":\"employee_id\",\"in\":\"path\",\"required\":true,\"description\":\"Unique identifier for the employee\",\"schema\":{\"type\":\"string\"}}],\"responses\":{\"200\":{\"description\":\"Employee details retrieved\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"employee_id\":{\"type\":\"string\"},\"first_name\":{\"type\":\"string\"},\"last_name\":{\"type\":\"string\"},\"email\":{\"type\":\"string\",\"format\":\"email\"},\"department\":{\"type\":\"string\",\"description\":\"Employee department (e.g., Engineering, Human Resources, Sales, Marketing, Finance, Operations, Legal, IT)\"},\"position\":{\"type\":\"string\",\"description\":\"Employee position (e.g., Software Engineer, Senior Software Engineer, Engineering Manager, HR Specialist, HR Manager, Sales Representative, Sales Manager, Marketing Specialist, Marketing Manager, Financial Analyst, Accountant, Operations Specialist, Legal Counsel, IT Specialist, Director, VP, CEO)\"},\"status\":{\"type\":\"string\",\"description\":\"Employee status (e.g., Active, Inactive, Terminated, On Leave)\"},\"hire_date\":{\"type\":\"string\",\"format\":\"date\"},\"created_at\":{\"type\":\"string\",\"format\":\"date-time\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/read\"]}]}},\"/job-listings\":{\"get\":{\"description\":\"Retrieve all active job listings and openings within the organization for recruitment purposes.\",\"operationId\":\"listJobListings\",\"parameters\":[{\"name\":\"limit\",\"in\":\"query\",\"description\":\"Maximum number of job listings to return (max 50)\",\"required\":false,\"schema\":{\"type\":\"integer\"}},{\"name\":\"next_token\",\"in\":\"query\",\"description\":\"Pagination token for next page\",\"required\":false,\"schema\":{\"type\":\"string\"}}],\"responses\":{\"200\":{\"description\":\"Successfully retrieved job listings\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"jobs\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"job_id\":{\"type\":\"string\"},\"title\":{\"type\":\"string\"},\"department\":{\"type\":\"string\",\"description\":\"Job department (e.g., Engineering, Human Resources, Sales, Marketing, Finance, Operations, Legal, IT)\"},\"location\":{\"type\":\"string\"},\"status\":{\"type\":\"string\",\"description\":\"Job status (e.g., Open, Closed, Filled)\"}}}},\"total_count\":{\"type\":\"integer\"},\"next_token\":{\"type\":\"string\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/read\"]}]},\"post\":{\"description\":\"Create a new job opening for recruitment with requirements and responsibilities.\",\"operationId\":\"createJobListing\",\"requestBody\":{\"required\":true,\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"required\":[\"title\",\"department\",\"location\",\"description\"],\"properties\":{\"title\":{\"type\":\"string\",\"maxLength\":200},\"department\":{\"type\":\"string\",\"description\":\"Job department (e.g., Engineering, Human Resources, Sales, Marketing, Finance, Operations, Legal, IT)\"},\"location\":{\"type\":\"string\",\"maxLength\":100},\"description\":{\"type\":\"string\",\"maxLength\":2000},\"requirements\":{\"type\":\"string\",\"maxLength\":1000},\"salary_range\":{\"type\":\"string\",\"maxLength\":100},\"hiring_manager_id\":{\"type\":\"string\",\"description\":\"Employee ID of the hiring manager\"}},\"example\":{\"title\":\"Senior Software Engineer\",\"department\":\"ENGINEERING\",\"location\":\"Seattle, WA\",\"description\":\"Join our engineering team to build scalable cloud solutions\",\"requirements\":\"5+ years experience with Python, AWS, and distributed systems\",\"salary_range\":\"$120,000 - $160,000\",\"hiring_manager_id\":\"emp_a1b2c3d4\"}}}}},\"responses\":{\"201\":{\"description\":\"Job listing created\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"job_id\":{\"type\":\"string\"},\"title\":{\"type\":\"string\"},\"department\":{\"type\":\"string\",\"description\":\"Job department (e.g., Engineering, Human Resources, Sales, Marketing, Finance, Operations, Legal, IT)\"},\"location\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"requirements\":{\"type\":\"string\"},\"salary_range\":{\"type\":\"string\"},\"manager_id\":{\"type\":\"string\"},\"status\":{\"type\":\"string\",\"description\":\"Job status (e.g., Open, Closed, Filled)\"},\"created_at\":{\"type\":\"string\",\"format\":\"date-time\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/write\"]}]}},\"/job-listings/{job_id}\":{\"get\":{\"description\":\"Retrieve detailed information about a specific job opening.\",\"operationId\":\"getJobListing\",\"parameters\":[{\"name\":\"job_id\",\"in\":\"path\",\"required\":true,\"description\":\"Unique identifier for the job listing\",\"schema\":{\"type\":\"string\"}}],\"responses\":{\"200\":{\"description\":\"Job listing details retrieved\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"job_id\":{\"type\":\"string\"},\"title\":{\"type\":\"string\"},\"department\":{\"type\":\"string\",\"description\":\"Job department (e.g., Engineering, Human Resources, Sales, Marketing, Finance, Operations, Legal, IT)\"},\"location\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"requirements\":{\"type\":\"string\"},\"salary_range\":{\"type\":\"string\"},\"hiring_manager_id\":{\"type\":\"string\"},\"status\":{\"type\":\"string\",\"description\":\"Job status (e.g., Open, Closed, Filled)\"},\"created_at\":{\"type\":\"string\",\"format\":\"date-time\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/read\"]}]}},\"/time-off\":{\"get\":{\"description\":\"Retrieve all time-off requests submitted by the authenticated user. Shows request history and approval status.\",\"operationId\":\"listTimeOffRequests\",\"parameters\":[{\"name\":\"limit\",\"in\":\"query\",\"description\":\"Maximum number of requests to return (max 50)\",\"required\":false,\"schema\":{\"type\":\"integer\"}},{\"name\":\"next_token\",\"in\":\"query\",\"description\":\"Pagination token for next page\",\"required\":false,\"schema\":{\"type\":\"string\"}}],\"responses\":{\"200\":{\"description\":\"Successfully retrieved time-off requests\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"requests\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"request_id\":{\"type\":\"string\"},\"start_date\":{\"type\":\"string\",\"format\":\"date\"},\"end_date\":{\"type\":\"string\",\"format\":\"date\"},\"type\":{\"type\":\"string\",\"description\":\"Time-off type (e.g., Vacation, Sick Leave, Personal, Bereavement, Maternity, Paternity)\"},\"status\":{\"type\":\"string\",\"description\":\"Time-off status (e.g., Pending, Approved, Denied, Cancelled)\"},\"days_requested\":{\"type\":\"number\"},\"created_at\":{\"type\":\"string\",\"format\":\"date-time\"}}}},\"total_count\":{\"type\":\"integer\"},\"next_token\":{\"type\":\"string\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/read\"]}]},\"post\":{\"description\":\"Submit a new time-off request for vacation, sick leave, or personal time.\",\"operationId\":\"createTimeOffRequest\",\"requestBody\":{\"required\":true,\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"required\":[\"start_date\",\"end_date\",\"type\",\"reason\"],\"properties\":{\"start_date\":{\"type\":\"string\",\"format\":\"date\"},\"end_date\":{\"type\":\"string\",\"format\":\"date\"},\"type\":{\"type\":\"string\",\"description\":\"Time-off type (e.g., Vacation, Sick Leave, Personal, Bereavement, Maternity, Paternity)\"},\"reason\":{\"type\":\"string\",\"maxLength\":500}},\"example\":{\"start_date\":\"2024-12-23\",\"end_date\":\"2024-12-27\",\"type\":\"VACATION\",\"reason\":\"Holiday vacation with family\"}}}}},\"responses\":{\"201\":{\"description\":\"Time-off request submitted and approved\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"request_id\":{\"type\":\"string\"},\"user_id\":{\"type\":\"string\"},\"start_date\":{\"type\":\"string\",\"format\":\"date\"},\"end_date\":{\"type\":\"string\",\"format\":\"date\"},\"type\":{\"type\":\"string\"},\"reason\":{\"type\":\"string\"},\"status\":{\"type\":\"string\"},\"days_requested\":{\"type\":\"number\"},\"approved_by\":{\"type\":\"string\"},\"approved_at\":{\"type\":\"string\",\"format\":\"date-time\"},\"created_at\":{\"type\":\"string\",\"format\":\"date-time\"},\"balance\":{\"type\":\"object\",\"properties\":{\"total\":{\"type\":\"integer\",\"example\":30},\"used\":{\"type\":\"integer\"},\"remaining\":{\"type\":\"integer\"}}}}}}}}},\"security\":[{\"oauth2\":[\"workshop/write\"]}]}},\"/time-off/balance\":{\"get\":{\"description\":\"Get remaining time-off balance out of 30 annual days\",\"operationId\":\"getTimeOffBalance\",\"responses\":{\"200\":{\"description\":\"Time-off balance retrieved\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"balance\":{\"type\":\"object\",\"properties\":{\"total\":{\"type\":\"integer\",\"example\":30},\"used\":{\"type\":\"integer\"},\"remaining\":{\"type\":\"integer\"}}}}}}}}},\"security\":[{\"oauth2\":[\"workshop/read\"]}]}},\"/time-off/{request_id}\":{\"get\":{\"description\":\"Retrieve detailed information about a specific time-off request.\",\"operationId\":\"getTimeOffRequest\",\"parameters\":[{\"name\":\"request_id\",\"in\":\"path\",\"required\":true,\"description\":\"Unique identifier for the time-off request\",\"schema\":{\"type\":\"string\"}}],\"responses\":{\"200\":{\"description\":\"Time-off request details retrieved\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"request_id\":{\"type\":\"string\"},\"user_id\":{\"type\":\"string\"},\"start_date\":{\"type\":\"string\",\"format\":\"date\"},\"end_date\":{\"type\":\"string\",\"format\":\"date\"},\"type\":{\"type\":\"string\",\"description\":\"Time-off type (e.g., Vacation, Sick Leave, Personal, Bereavement, Maternity, Paternity)\"},\"reason\":{\"type\":\"string\"},\"status\":{\"type\":\"string\",\"description\":\"Time-off status (e.g., Pending, Approved, Denied, Cancelled)\"},\"days_requested\":{\"type\":\"number\"},\"approved_by\":{\"type\":\"string\"},\"created_at\":{\"type\":\"string\",\"format\":\"date-time\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/read\"]}]},\"put\":{\"description\":\"Approve or deny a time-off request. Used by managers to process pending requests.\",\"operationId\":\"updateTimeOffRequest\",\"parameters\":[{\"name\":\"request_id\",\"in\":\"path\",\"required\":true,\"description\":\"Unique identifier for the time-off request\",\"schema\":{\"type\":\"string\"}}],\"requestBody\":{\"required\":true,\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"status\":{\"type\":\"string\",\"description\":\"Time-off status (e.g., Pending, Approved, Denied, Cancelled)\"},\"approved_by\":{\"type\":\"string\"}}}}}},\"responses\":{\"200\":{\"description\":\"Time-off request updated\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"request_id\":{\"type\":\"string\"},\"status\":{\"type\":\"string\",\"description\":\"Time-off status (e.g., Pending, Approved, Denied, Cancelled)\"},\"approved_by\":{\"type\":\"string\"},\"updated_at\":{\"type\":\"string\",\"format\":\"date-time\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/write\"]}]}},\"/tickets\":{\"get\":{\"description\":\"Retrieve all support tickets in the system. Shows ticket status, priority, and assignment information.\",\"operationId\":\"listTickets\",\"parameters\":[{\"name\":\"limit\",\"in\":\"query\",\"description\":\"Maximum number of tickets to return (max 50)\",\"required\":false,\"schema\":{\"type\":\"integer\"}},{\"name\":\"next_token\",\"in\":\"query\",\"description\":\"Pagination token for next page\",\"required\":false,\"schema\":{\"type\":\"string\"}}],\"responses\":{\"200\":{\"description\":\"Successfully retrieved support tickets\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"tickets\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"ticket_id\":{\"type\":\"string\"},\"title\":{\"type\":\"string\"},\"category\":{\"type\":\"string\",\"description\":\"Ticket category (e.g., Technical, Human Resources, Facilities, Other)\"},\"priority\":{\"type\":\"string\",\"description\":\"Priority level (e.g., Low, Medium, High, Urgent)\"},\"status\":{\"type\":\"string\",\"description\":\"Ticket status (e.g., Open, In Progress, Resolved, Closed)\"},\"created_at\":{\"type\":\"string\",\"format\":\"date-time\"}}}},\"total_count\":{\"type\":\"integer\"},\"next_token\":{\"type\":\"string\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/read\"]}]},\"post\":{\"description\":\"Submit a new IT support request or technical issue with priority level and detailed description.\",\"operationId\":\"createTicket\",\"requestBody\":{\"required\":true,\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"required\":[\"title\",\"description\",\"category\"],\"properties\":{\"title\":{\"type\":\"string\",\"maxLength\":200},\"description\":{\"type\":\"string\",\"maxLength\":2000},\"category\":{\"type\":\"string\",\"description\":\"Ticket category (e.g., Technical, Human Resources, Facilities, Other)\"},\"priority\":{\"type\":\"string\",\"description\":\"Priority level (e.g., Low, Medium, High, Urgent)\"}},\"example\":{\"title\":\"Laptop screen flickering\",\"description\":\"My laptop screen has been flickering intermittently for the past two days. It happens most frequently when using multiple applications.\",\"category\":\"TECHNICAL\",\"priority\":\"MEDIUM\"}}}}},\"responses\":{\"201\":{\"description\":\"Support ticket created\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"ticket_id\":{\"type\":\"string\"},\"title\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"category\":{\"type\":\"string\",\"description\":\"Ticket category (e.g., Technical, Human Resources, Facilities, Other)\"},\"priority\":{\"type\":\"string\",\"description\":\"Priority level (e.g., Low, Medium, High, Urgent)\"},\"status\":{\"type\":\"string\",\"description\":\"Ticket status (e.g., Open, In Progress, Resolved, Closed)\"},\"user_id\":{\"type\":\"string\"},\"created_at\":{\"type\":\"string\",\"format\":\"date-time\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/write\"]}]}},\"/tickets/{ticket_id}\":{\"get\":{\"description\":\"Retrieve detailed information about a specific support ticket including resolution history.\",\"operationId\":\"getTicket\",\"parameters\":[{\"name\":\"ticket_id\",\"in\":\"path\",\"required\":true,\"description\":\"Unique identifier for the support ticket\",\"schema\":{\"type\":\"string\"}}],\"responses\":{\"200\":{\"description\":\"Ticket details retrieved\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"ticket_id\":{\"type\":\"string\"},\"title\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"category\":{\"type\":\"string\",\"description\":\"Ticket category (e.g., Technical, Human Resources, Facilities, Other)\"},\"priority\":{\"type\":\"string\",\"description\":\"Priority level (e.g., Low, Medium, High, Urgent)\"},\"status\":{\"type\":\"string\",\"description\":\"Ticket status (e.g., Open, In Progress, Resolved, Closed)\"},\"user_id\":{\"type\":\"string\"},\"assigned_to\":{\"type\":\"string\"},\"created_at\":{\"type\":\"string\",\"format\":\"date-time\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/read\"]}]}},\"/tickets/{ticket_id}/comments\":{\"patch\":{\"description\":\"Add a comment or update to an existing support ticket for communication between employees and IT staff.\",\"operationId\":\"addTicketComment\",\"parameters\":[{\"name\":\"ticket_id\",\"in\":\"path\",\"required\":true,\"description\":\"Unique identifier for the support ticket\",\"schema\":{\"type\":\"string\"}}],\"requestBody\":{\"required\":true,\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"required\":[\"comment\"],\"properties\":{\"comment\":{\"type\":\"string\"}}}}}},\"responses\":{\"200\":{\"description\":\"Comment added to ticket\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"ticket_id\":{\"type\":\"string\"},\"comment_added\":{\"type\":\"string\"},\"updated_at\":{\"type\":\"string\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/write\"]}]}},\"/emails\":{\"get\":{\"description\":\"Retrieve email messages for the authenticated user. Shows inbox with sent and received internal messages.\",\"operationId\":\"listEmails\",\"parameters\":[{\"name\":\"limit\",\"in\":\"query\",\"description\":\"Maximum number of messages to return (max 50)\",\"required\":false,\"schema\":{\"type\":\"integer\"}},{\"name\":\"next_token\",\"in\":\"query\",\"description\":\"Pagination token for next page\",\"required\":false,\"schema\":{\"type\":\"string\"}}],\"responses\":{\"200\":{\"description\":\"Successfully retrieved email messages\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"messages\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"message_id\":{\"type\":\"string\"},\"subject\":{\"type\":\"string\"},\"sender\":{\"type\":\"string\",\"format\":\"email\"},\"received_at\":{\"type\":\"string\",\"format\":\"date-time\"},\"is_read\":{\"type\":\"boolean\"}}}},\"total_count\":{\"type\":\"integer\"},\"next_token\":{\"type\":\"string\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/read\"]}]},\"post\":{\"description\":\"Send a new internal email message to a colleague or team member within the company messaging system.\",\"operationId\":\"sendEmail\",\"requestBody\":{\"required\":true,\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"required\":[\"to\",\"subject\",\"body\"],\"properties\":{\"to\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"format\":\"email\"},\"description\":\"Primary recipients email addresses\"},\"cc\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"format\":\"email\"},\"description\":\"Carbon copy recipients email addresses\"},\"bcc\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"format\":\"email\"},\"description\":\"Blind carbon copy recipients email addresses\"},\"subject\":{\"type\":\"string\",\"maxLength\":200},\"body\":{\"type\":\"string\",\"maxLength\":5000}},\"example\":{\"to\":[\"john.doe@example.com\"],\"cc\":[\"manager@example.com\"],\"subject\":\"Project Update - Q4 Planning\",\"body\":\"Hi John,\\n\\nI wanted to update you on our Q4 planning progress. We've completed the initial requirements gathering and are ready to move to the next phase.\\n\\nBest regards,\\nJane\"}}}}},\"responses\":{\"201\":{\"description\":\"Email sent successfully\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"message_id\":{\"type\":\"string\"},\"to\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"format\":\"email\"}},\"cc\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"format\":\"email\"}},\"bcc\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"format\":\"email\"}},\"subject\":{\"type\":\"string\"},\"body\":{\"type\":\"string\"},\"user_id\":{\"type\":\"string\"},\"sent_at\":{\"type\":\"string\",\"format\":\"date-time\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/write\"]}]}},\"/emails/{message_id}\":{\"get\":{\"description\":\"Retrieve detailed information about a specific email message including full content and timestamp.\",\"operationId\":\"getEmailMessage\",\"parameters\":[{\"name\":\"message_id\",\"in\":\"path\",\"required\":true,\"description\":\"Unique identifier for the email message\",\"schema\":{\"type\":\"string\"}}],\"responses\":{\"200\":{\"description\":\"Email message details retrieved\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"message_id\":{\"type\":\"string\"},\"user_id\":{\"type\":\"string\"},\"to\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"format\":\"email\"}},\"cc\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"format\":\"email\"}},\"bcc\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"format\":\"email\"}},\"subject\":{\"type\":\"string\"},\"body\":{\"type\":\"string\"},\"sent_at\":{\"type\":\"string\",\"format\":\"date-time\"},\"is_read\":{\"type\":\"boolean\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/read\"]}]}},\"/calendar/events\":{\"get\":{\"description\":\"Retrieve calendar events for the authenticated user. Shows scheduled meetings, appointments, and work events.\",\"operationId\":\"listCalendarEvents\",\"parameters\":[{\"name\":\"limit\",\"in\":\"query\",\"description\":\"Maximum number of events to return (max 50)\",\"required\":false,\"schema\":{\"type\":\"integer\"}},{\"name\":\"next_token\",\"in\":\"query\",\"description\":\"Pagination token for next page\",\"required\":false,\"schema\":{\"type\":\"string\"}}],\"responses\":{\"200\":{\"description\":\"Successfully retrieved calendar events\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"events\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"event_id\":{\"type\":\"string\"},\"title\":{\"type\":\"string\"},\"start_time\":{\"type\":\"string\",\"format\":\"date-time\"},\"end_time\":{\"type\":\"string\",\"format\":\"date-time\"},\"location\":{\"type\":\"string\"}}}},\"total_count\":{\"type\":\"integer\"},\"next_token\":{\"type\":\"string\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/read\"]}]},\"post\":{\"description\":\"Create a new calendar event or meeting. Schedule appointments with specific times and locations.\",\"operationId\":\"createCalendarEvent\",\"requestBody\":{\"required\":true,\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"required\":[\"title\",\"start_time\",\"end_time\"],\"properties\":{\"title\":{\"type\":\"string\",\"maxLength\":200},\"description\":{\"type\":\"string\",\"maxLength\":1000},\"start_time\":{\"type\":\"string\",\"format\":\"date-time\"},\"end_time\":{\"type\":\"string\",\"format\":\"date-time\"},\"location\":{\"type\":\"string\",\"maxLength\":200}},\"example\":{\"title\":\"Team Standup\",\"description\":\"Daily team standup meeting to discuss progress and blockers\",\"start_time\":\"2024-09-03T09:00:00Z\",\"end_time\":\"2024-09-03T09:30:00Z\",\"location\":\"Conference Room A\"}}}}},\"responses\":{\"201\":{\"description\":\"Calendar event created\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"event_id\":{\"type\":\"string\"},\"title\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"start_time\":{\"type\":\"string\",\"format\":\"date-time\"},\"end_time\":{\"type\":\"string\",\"format\":\"date-time\"},\"location\":{\"type\":\"string\"},\"user_id\":{\"type\":\"string\"},\"created_at\":{\"type\":\"string\",\"format\":\"date-time\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/write\"]}]}},\"/calendar/events/{event_id}\":{\"get\":{\"description\":\"Retrieve detailed information about a specific calendar event including attendees and timing.\",\"operationId\":\"getCalendarEvent\",\"parameters\":[{\"name\":\"event_id\",\"in\":\"path\",\"required\":true,\"description\":\"Unique identifier for the calendar event\",\"schema\":{\"type\":\"string\"}}],\"responses\":{\"200\":{\"description\":\"Calendar event details retrieved\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"event_id\":{\"type\":\"string\"},\"user_id\":{\"type\":\"string\"},\"title\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"start_time\":{\"type\":\"string\",\"format\":\"date-time\"},\"end_time\":{\"type\":\"string\",\"format\":\"date-time\"},\"location\":{\"type\":\"string\"},\"created_at\":{\"type\":\"string\",\"format\":\"date-time\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/read\"]}]},\"put\":{\"description\":\"Update an existing calendar event with new details, timing, or location.\",\"operationId\":\"updateCalendarEvent\",\"parameters\":[{\"name\":\"event_id\",\"in\":\"path\",\"required\":true,\"description\":\"Unique identifier for the calendar event\",\"schema\":{\"type\":\"string\"}}],\"requestBody\":{\"required\":true,\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"required\":[\"title\",\"start_time\",\"end_time\"],\"properties\":{\"title\":{\"type\":\"string\",\"maxLength\":200},\"description\":{\"type\":\"string\",\"maxLength\":1000},\"start_time\":{\"type\":\"string\",\"format\":\"date-time\"},\"end_time\":{\"type\":\"string\",\"format\":\"date-time\"},\"location\":{\"type\":\"string\",\"maxLength\":200}}}}}},\"responses\":{\"200\":{\"description\":\"Calendar event updated successfully\",\"content\":{\"application/json\":{\"schema\":{\"type\":\"object\",\"properties\":{\"event_id\":{\"type\":\"string\"},\"title\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"start_time\":{\"type\":\"string\",\"format\":\"date-time\"},\"end_time\":{\"type\":\"string\",\"format\":\"date-time\"},\"location\":{\"type\":\"string\"},\"user_id\":{\"type\":\"string\"},\"updated_at\":{\"type\":\"string\",\"format\":\"date-time\"}}}}}}},\"security\":[{\"oauth2\":[\"workshop/write\"]}]}}},\"components\":{\"securitySchemes\":{\"oauth2\":{\"type\":\"oauth2\",\"description\":\"OAuth2 Authorization Code flow for authentication\",\"flows\":{\"authorizationCode\":{\"authorizationUrl\":\"https://workshop-hr-",
              {
                "Ref": "AWS::AccountId"
              },
              ".auth.",
              {
                "Ref": "AWS::Region"
              },
              ".amazoncognito.com/oauth2/authorize\",\"tokenUrl\":\"https://workshop-hr-",
              {
                "Ref": "AWS::AccountId"
              },
              ".auth.",
              {
                "Ref": "AWS::Region"
              },
              ".amazoncognito.com/oauth2/token\",\"refreshUrl\":\"https://workshop-hr-",
              {
                "Ref": "AWS::AccountId"
              },
              ".auth.",
              {
                "Ref": "AWS::Region"
              },
              ".amazoncognito.com/oauth2/token\",\"scopes\":{\"workshop/read\":\"Read access to resources\",\"workshop/write\":\"Write access to resources\"}}}}}}}"
            ]
          ]
        },
        "BaseUrl": {
          "Fn::Join": [
            "",
            [
              "https://",
              {
                "Ref": "WorkshopApiEEBCDEDF"
              },
              ".execute-api.",
              {
                "Ref": "AWS::Region"
              },
              ".",
              {
                "Ref": "AWS::URLSuffix"
              },
              "/",
              {
                "Ref": "WorkshopApiDeploymentStageprod5249D316"
              },
              "/"
            ]
          ]
        },
        "TokenUrl": {
          "Fn::Join": [
            "",
            [
              "https://workshop-hr-",
              {
                "Ref": "AWS::AccountId"
              },
              ".auth.",
              {
                "Ref": "AWS::Region"
              },
              ".amazoncognito.com/oauth2/token"
            ]
          ]
        },
        "AuthorizationUrl": {
          "Fn::Join": [
            "",
            [
              "https://workshop-hr-",
              {
                "Ref": "AWS::AccountId"
              },
              ".auth.",
              {
                "Ref": "AWS::Region"
              },
              ".amazoncognito.com/oauth2/authorize"
            ]
          ]
        },
        "OpenAPIUserPoolClientId": {
          "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputRefWorkshopOpenApiUserPoolClientA2A9387183572008"
        },
        "McpClientId": {
          "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputRefWorkshopMcpUserPoolClient198E0994CBDA6269"
        },
        "McpServerEndpoint": {
          "Fn::GetAtt": [
            "AwsNewsMcpGateway",
            "GatewayUrl"
          ]
        },
        "UserPoolId": {
          "Fn::ImportValue": "AmazonQuickSuiteWorkshopCoreInfraStack:ExportsOutputRefWorkshopUserPool415C713C612A4251"
        },
        "Timestamp": "1761617654129"
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/UploadWorkshopFiles"
      }
    },
    "CDKMetadata": {
      "Type": "AWS::CDK::Metadata",
      "Properties": {
        "Analytics": "v2:deflate64:H4sIAAAAAAAA/+1a32/bNhD+W8q9FbScZT8e/OakaxGsXQwn24tQDIx4lplSpEqeEniC//eBpCgpblqkTZO6KR8My98d70738ciTxcPs8OC37OAZu7aTgr+bSHGRtWfIineUXdt/W8mqC86y9mWjChRa5S0xjUJRAZmR54SSNVNcgul+FZpHAagrYbSqQKFHtrQljPM/xnDuNZ+Tt3spvNON3lmREqejG/yi/LylxysVSXDXCzCVsFZotaWCVVm71BLyljBrmwr40YbMWlIboQpRMzkvCt2o6DrouAFzb6/zTyqmWAl8oaUoBFgyy9sb2GZuOt2YvHO9iC6ChhvTSRFZsT5RUijoZX3ePyn8tN1vJX3ExN7DlRhy6j3FmfWkp4WvDhc4DbCvm2juXDvJB14+hDk/Q4bgSs/emBWPCz9w7D5XIU1bKnVps/a1Ll8Z3dR5S2R3+RerhvXtjqC3HG1tKatFyRCu2SZrj3WpBOq/LZiF1tLOG1xrI/4D42/BDRwgugSL81q4vSZc9T4o4WALI+p+fjpkxRqJx9rYhYGVFOUaT72CdZOdSamvT40ohbJxojvoDeBa81gh0UpAx8P7sIJml9Y3moPsFuiWFFohKDzf1DHMyslHYdtiDRVzBuMVWSPWs+n00mo1CWCmTTnlhq1wcvDrNGA/+Y0DZb+JBB/64hIKJJQYeN8IA7wT10bXYLAv/X4epIAfOuAlvG/A4j9MCs5Qmz72q4BAp3Ck+YbM0DRAd0ULZlgFCMaS2YpJC/3aFuqAvoBa6o0r57y9pRRYLborA8iEGtRHO4FbRl/rUhRMnvCd3S/hCU94whOe8KeM+0112B3pGbIS/JYaoVFL64WuKdWNKeCIWQhNa+gVQ5fqRfEPAMQ6yDpAKITSsNFGrW9vMMe/TuLoCPnxfQO09bv9n7BZ9u2J7xg+pk9J5UNagq21st1jnEWGjT0e/qMwnXjciYQnu9iW3bDyuUZoStbjJ8uLzwpdg+19+nbTt9g7WN++jp6B7tPAfmYqRyG5+7+T3hel+6aBrzD+QajaporZh4pJNCQaEg1fn4ZE8BMnONGwFzQkgveC4JSsNGcTDd+z5TR19oKGRPATJzjRkGhINCSCf1iC/YunYKh/85S3pGYG+vN6NcP1gpnh+GiSfnNpPK3jCaP+JUG+z6eXaDxi199civUBYg3l7GKju8fE8nu9X7vNz66H7XZYQnyww8frnzZYNzieuFuqNIfs0k6vDn/Jfs9+fnZphZh059yzZfj+Hwxez808MAAA"
      },
      "Metadata": {
        "aws:cdk:path": "AmazonQuickSuiteWorkshopServicesStack/CDKMetadata/Default"
      },
      "Condition": "CDKMetadataAvailable"
    }
  },
  "Outputs": {
    "WorkshopApiEndpoint866C447C": {
      "Value": {
        "Fn::Join": [
          "",
          [
            "https://",
            {
              "Ref": "WorkshopApiEEBCDEDF"
            },
            ".execute-api.",
            {
              "Ref": "AWS::Region"
            },
            ".",
            {
              "Ref": "AWS::URLSuffix"
            },
            "/",
            {
              "Ref": "WorkshopApiDeploymentStageprod5249D316"
            },
            "/"
          ]
        ]
      }
    },
    "WorkshopFilesLocation": {
      "Description": "S3 location containing workshop-schema.json and workshop-details.txt files - Download these for OpenAPI setup",
      "Value": {
        "Fn::GetAtt": [
          "UploadWorkshopFiles",
          "WorkshopFilesLocation"
        ]
      }
    }
  },
  "Conditions": {
    "CDKMetadataAvailable": {
      "Fn::Or": [
        {
          "Fn::Or": [
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "af-south-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-east-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-northeast-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-northeast-2"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-northeast-3"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-south-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-south-2"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-southeast-1"
              ]
            },

            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-southeast-3"
              ]
            }
          ]
        },
        {
          "Fn::Or": [
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-southeast-4"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ca-central-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ca-west-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "cn-north-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "cn-northwest-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "eu-central-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "eu-central-2"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "eu-north-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "eu-south-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "eu-south-2"
              ]
            }
          ]
        },
        {
          "Fn::Or": [

            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "eu-west-2"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "eu-west-3"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "il-central-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "me-central-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "me-south-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "sa-east-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "us-east-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "us-east-2"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "us-west-1"
              ]
            }
          ]
        },
        {
          "Fn::Equals": [
            {
              "Ref": "AWS::Region"
            },
            "us-west-2"
          ]
        }
      ]
    }
  }
}
